// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.tabs');
goog.require('cljs.core');
goog.require('lt.util.js');
goog.require('lt.util.style');
goog.require('lt.util.dom');
goog.require('crate.binding');
goog.require('lt.object');
goog.require('lt.objs.menu');
goog.require('lt.util.js');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('crate.core');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('lt.objs.animations');
goog.require('lt.objs.canvas');
goog.require('lt.objs.command');
goog.require('lt.objs.menu');
goog.require('lt.util.load');
goog.require('lt.objs.animations');
goog.require('crate.binding');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.util.load');
goog.require('lt.util.style');
goog.require('lt.objs.editor');
goog.require('crate.core');
goog.require('lt.objs.command');
lt.util.load.js.call(null,"core/node_modules/lighttable/ui/dragdrop.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
lt.objs.tabs.multi_def = lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","multi-editor2","lt.objs.tabs/multi-editor2",1325787623),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabs","tabs",1017456368),null], null), null),new cljs.core.Keyword(null,"tabsets","tabsets",3756175576),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"left","left",1017222009),0,new cljs.core.Keyword(null,"right","right",1122416014),0,new cljs.core.Keyword(null,"bottom","bottom",3925642653),0,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){var tabsets = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tabsets","div.tabsets",1029252219),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"bottom","bottom",3925642653),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"tabset-bottom","tabset-bottom",2176185021)),lt.util.style.__GT_px)], null)], null)], null));lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabsets-elem","tabsets-elem",4253111048),tabsets], null));
lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"tabs","tabs",1017456368),this$);
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#multi","div#multi",1721072185),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"left","left",1017222009),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"left","left",1017222009)),lt.util.style.__GT_px),new cljs.core.Keyword(null,"right","right",1122416014),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"right","right",1122416014)),lt.util.style.__GT_px),new cljs.core.Keyword(null,"bottom","bottom",3925642653),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"bottom","bottom",3925642653)),lt.util.style.__GT_px)], null)], null),tabsets], null);
}));
lt.objs.tabs.multi = lt.object.create.call(null,lt.objs.tabs.multi_def);
lt.objs.tabs.ensure_visible = (function ensure_visible(idx,tabset){var temp__4092__auto__ = (lt.util.dom.$$.call(null,".list li",lt.object.__GT_content.call(null,tabset))[idx]);if(cljs.core.truth_(temp__4092__auto__))
{var cur = temp__4092__auto__;var left = cur.offsetLeft;var width = cur.clientWidth;var right = (left + width);var gp = lt.util.dom.parent.call(null,lt.util.dom.parent.call(null,cur));var pwidth = gp.clientWidth;var pleft = gp.scrollLeft;var pright = (pleft + pwidth);var inside = ((left >= pleft)) && ((right <= pright));if(inside)
{return null;
} else
{if((pleft > left))
{return gp.scrollLeft = (left - 50);
} else
{return gp.scrollLeft = ((right - pwidth) + 50);
}
}
} else
{return null;
}
});
lt.objs.tabs.__GT_index = (function __GT_index(obj){if(cljs.core.truth_((function (){var and__3396__auto__ = obj;if(cljs.core.truth_(and__3396__auto__))
{var and__3396__auto____$1 = cljs.core.deref.call(null,obj);if(cljs.core.truth_(and__3396__auto____$1))
{return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{return cljs.core.first.call(null,cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__13554_SHARP_){return cljs.core._EQ_.call(null,obj,cljs.core.second.call(null,p1__13554_SHARP_));
}),cljs.core.map_indexed.call(null,cljs.core.vector,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj))))))));
} else
{return null;
}
});
lt.objs.tabs.active_BANG_ = (function active_BANG_(obj){if(cljs.core.truth_((function (){var and__3396__auto__ = obj;if(cljs.core.truth_(and__3396__auto__))
{return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else
{return and__3396__auto__;
}
})()))
{lt.object.merge_BANG_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active-obj","active-obj",3056705826),obj], null));
lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"show","show",1017433711));
return lt.objs.tabs.ensure_visible.call(null,lt.objs.tabs.__GT_index.call(null,obj),new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj)));
} else
{return null;
}
});
lt.objs.tabs.update_tab_order = (function update_tab_order(multi,children){var ser = ((cljs.core.vector_QMARK_.call(null,children))?children:cljs.core.map.call(null,(function (p1__13555_SHARP_){return lt.util.dom.attr.call(null,p1__13555_SHARP_,new cljs.core.Keyword(null,"pos","pos",1014015430));
}),children));var prev_active = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi));lt.object.merge_BANG_.call(null,multi,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"objs","objs",1017308622),cljs.core.mapv.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi)),ser),new cljs.core.Keyword(null,"active-obj","active-obj",3056705826),null], null));
return lt.objs.tabs.active_BANG_.call(null,prev_active);
});
lt.objs.tabs.__GT_name = (function __GT_name(e){var or__3408__auto__ = cljs.core.get_in.call(null,cljs.core.deref.call(null,e),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"info","info",1017141280),new cljs.core.Keyword(null,"name","name",1017277949)], null));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{var or__3408__auto____$1 = new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e));if(cljs.core.truth_(or__3408__auto____$1))
{return or__3408__auto____$1;
} else
{return "unknown";
}
}
});
lt.objs.tabs.__GT_path = (function __GT_path(e){var or__3408__auto__ = cljs.core.get_in.call(null,cljs.core.deref.call(null,e),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"info","info",1017141280),new cljs.core.Keyword(null,"path","path",1017337751)], null));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{var or__3408__auto____$1 = new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e));if(cljs.core.truth_(or__3408__auto____$1))
{return or__3408__auto____$1;
} else
{return "";
}
}
});
lt.objs.tabs.active_QMARK_ = (function active_QMARK_(c,e,multi){return [cljs.core.str(c),cljs.core.str(((cljs.core._EQ_.call(null,cljs.core.deref.call(null,multi).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826)),e))?" active":null))].join('');
});
lt.objs.tabs.dirty_QMARK_ = (function dirty_QMARK_(c,e){return [cljs.core.str(c),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"dirty","dirty",1109497668).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,e)))?" dirty":null))].join('');
});
lt.objs.tabs.close_tab = (function close_tab(obj){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.tab-close","span.tab-close",4094760846),"x"], null));var seq__13562_13568 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1108660586));
})], null)));var chunk__13563_13569 = null;var count__13564_13570 = 0;var i__13565_13571 = 0;while(true){
if((i__13565_13571 < count__13564_13570))
{var vec__13566_13572 = cljs.core._nth.call(null,chunk__13563_13569,i__13565_13571);var ev__4336__auto___13573 = cljs.core.nth.call(null,vec__13566_13572,0,null);var func__4337__auto___13574 = cljs.core.nth.call(null,vec__13566_13572,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13573,func__4337__auto___13574);
{
var G__13575 = seq__13562_13568;
var G__13576 = chunk__13563_13569;
var G__13577 = count__13564_13570;
var G__13578 = (i__13565_13571 + 1);
seq__13562_13568 = G__13575;
chunk__13563_13569 = G__13576;
count__13564_13570 = G__13577;
i__13565_13571 = G__13578;
continue;
}
} else
{var temp__4092__auto___13579 = cljs.core.seq.call(null,seq__13562_13568);if(temp__4092__auto___13579)
{var seq__13562_13580__$1 = temp__4092__auto___13579;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13562_13580__$1))
{var c__4150__auto___13581 = cljs.core.chunk_first.call(null,seq__13562_13580__$1);{
var G__13582 = cljs.core.chunk_rest.call(null,seq__13562_13580__$1);
var G__13583 = c__4150__auto___13581;
var G__13584 = cljs.core.count.call(null,c__4150__auto___13581);
var G__13585 = 0;
seq__13562_13568 = G__13582;
chunk__13563_13569 = G__13583;
count__13564_13570 = G__13584;
i__13565_13571 = G__13585;
continue;
}
} else
{var vec__13567_13586 = cljs.core.first.call(null,seq__13562_13580__$1);var ev__4336__auto___13587 = cljs.core.nth.call(null,vec__13567_13586,0,null);var func__4337__auto___13588 = cljs.core.nth.call(null,vec__13567_13586,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13587,func__4337__auto___13588);
{
var G__13589 = cljs.core.next.call(null,seq__13562_13580__$1);
var G__13590 = null;
var G__13591 = 0;
var G__13592 = 0;
seq__13562_13568 = G__13589;
chunk__13563_13569 = G__13590;
count__13564_13570 = G__13591;
i__13565_13571 = G__13592;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.tabs.item = (function item(label,multi,e,pos){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"class","class",1108647146),lt.objs.tabs.dirty_QMARK_.call(null,lt.objs.tabs.active_QMARK_.call(null," ",e,multi),e),new cljs.core.Keyword(null,"draggable","draggable",709423359),"true",new cljs.core.Keyword(null,"title","title",1124275658),lt.objs.tabs.__GT_path.call(null,e),new cljs.core.Keyword(null,"obj-id","obj-id",4285449507),lt.object.__GT_id.call(null,e),new cljs.core.Keyword(null,"pos","pos",1014015430),pos], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.file-name","span.file-name",2230443530),lt.objs.tabs.__GT_name.call(null,e)], null),(cljs.core.truth_(lt.object.raise_reduce.call(null,e,new cljs.core.Keyword(null,"close-button+","close-button+",3559586774),false))?lt.objs.tabs.close_tab.call(null,label):null)], null));var seq__13599_13605 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (ev){if(cljs.core.truth_((function (){var or__3408__auto__ = cljs.core._EQ_.call(null,1,ev.button);if(or__3408__auto__)
{return or__3408__auto__;
} else
{return ev.metaKey;
}
})()))
{return lt.object.raise.call(null,label,new cljs.core.Keyword(null,"close","close",1108660586));
} else
{return lt.objs.tabs.active_BANG_.call(null,e);
}
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (ev){return lt.object.raise.call(null,label,new cljs.core.Keyword(null,"menu!","menu!",1117686292),ev);
})], null)));var chunk__13600_13606 = null;var count__13601_13607 = 0;var i__13602_13608 = 0;while(true){
if((i__13602_13608 < count__13601_13607))
{var vec__13603_13609 = cljs.core._nth.call(null,chunk__13600_13606,i__13602_13608);var ev__4336__auto___13610 = cljs.core.nth.call(null,vec__13603_13609,0,null);var func__4337__auto___13611 = cljs.core.nth.call(null,vec__13603_13609,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13610,func__4337__auto___13611);
{
var G__13612 = seq__13599_13605;
var G__13613 = chunk__13600_13606;
var G__13614 = count__13601_13607;
var G__13615 = (i__13602_13608 + 1);
seq__13599_13605 = G__13612;
chunk__13600_13606 = G__13613;
count__13601_13607 = G__13614;
i__13602_13608 = G__13615;
continue;
}
} else
{var temp__4092__auto___13616 = cljs.core.seq.call(null,seq__13599_13605);if(temp__4092__auto___13616)
{var seq__13599_13617__$1 = temp__4092__auto___13616;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13599_13617__$1))
{var c__4150__auto___13618 = cljs.core.chunk_first.call(null,seq__13599_13617__$1);{
var G__13619 = cljs.core.chunk_rest.call(null,seq__13599_13617__$1);
var G__13620 = c__4150__auto___13618;
var G__13621 = cljs.core.count.call(null,c__4150__auto___13618);
var G__13622 = 0;
seq__13599_13605 = G__13619;
chunk__13600_13606 = G__13620;
count__13601_13607 = G__13621;
i__13602_13608 = G__13622;
continue;
}
} else
{var vec__13604_13623 = cljs.core.first.call(null,seq__13599_13617__$1);var ev__4336__auto___13624 = cljs.core.nth.call(null,vec__13604_13623,0,null);var func__4337__auto___13625 = cljs.core.nth.call(null,vec__13604_13623,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13624,func__4337__auto___13625);
{
var G__13626 = cljs.core.next.call(null,seq__13599_13617__$1);
var G__13627 = null;
var G__13628 = 0;
var G__13629 = 0;
seq__13599_13605 = G__13626;
chunk__13600_13606 = G__13627;
count__13601_13607 = G__13628;
i__13602_13608 = G__13629;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",914538750),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab-label","tab-label",1523548718),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,multi,e,pos){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",3521887033),e,new cljs.core.Keyword(null,"tabset","tabset",4427500575),multi], null));
return lt.objs.tabs.item.call(null,this$,multi,e,pos);
}));
lt.objs.tabs.objs_list = (function objs_list(multi,objs){var prev_tabs = cljs.core.filter.call(null,(function (p1__13630_SHARP_){return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,p1__13630_SHARP_)),multi);
}),lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tab-label","tab-label",1523548718)));var item = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",1013907977),(function (){var iter__4119__auto__ = ((function (prev_tabs){
return (function iter__13645(s__13646){return (new cljs.core.LazySeq(null,((function (prev_tabs){
return (function (){var s__13646__$1 = s__13646;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__13646__$1);if(temp__4092__auto__)
{var s__13646__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__13646__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__13646__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__13648 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__13647 = 0;while(true){
if((i__13647 < size__4118__auto__))
{var vec__13651 = cljs.core._nth.call(null,c__4117__auto__,i__13647);var idx = cljs.core.nth.call(null,vec__13651,0,null);var o = cljs.core.nth.call(null,vec__13651,1,null);if(cljs.core.truth_(cljs.core.deref.call(null,o)))
{cljs.core.chunk_append.call(null,b__13648,lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",914538750),multi,o,idx)));
{
var G__13659 = (i__13647 + 1);
i__13647 = G__13659;
continue;
}
} else
{{
var G__13660 = (i__13647 + 1);
i__13647 = G__13660;
continue;
}
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13648),iter__13645.call(null,cljs.core.chunk_rest.call(null,s__13646__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13648),null);
}
} else
{var vec__13652 = cljs.core.first.call(null,s__13646__$2);var idx = cljs.core.nth.call(null,vec__13652,0,null);var o = cljs.core.nth.call(null,vec__13652,1,null);if(cljs.core.truth_(cljs.core.deref.call(null,o)))
{return cljs.core.cons.call(null,lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label","lt.objs.tabs/tab-label",914538750),multi,o,idx)),iter__13645.call(null,cljs.core.rest.call(null,s__13646__$2)));
} else
{{
var G__13661 = cljs.core.rest.call(null,s__13646__$2);
s__13646__$1 = G__13661;
continue;
}
}
}
} else
{return null;
}
break;
}
});})(prev_tabs))
,null,null));
});})(prev_tabs))
;return iter__4119__auto__.call(null,cljs.core.map.call(null,cljs.core.vector,cljs.core.range.call(null),objs));
})()], null));var seq__13653_13662 = cljs.core.seq.call(null,prev_tabs);var chunk__13654_13663 = null;var count__13655_13664 = 0;var i__13656_13665 = 0;while(true){
if((i__13656_13665 < count__13655_13664))
{var tab_13666 = cljs.core._nth.call(null,chunk__13654_13663,i__13656_13665);lt.object.destroy_BANG_.call(null,tab_13666);
{
var G__13667 = seq__13653_13662;
var G__13668 = chunk__13654_13663;
var G__13669 = count__13655_13664;
var G__13670 = (i__13656_13665 + 1);
seq__13653_13662 = G__13667;
chunk__13654_13663 = G__13668;
count__13655_13664 = G__13669;
i__13656_13665 = G__13670;
continue;
}
} else
{var temp__4092__auto___13671 = cljs.core.seq.call(null,seq__13653_13662);if(temp__4092__auto___13671)
{var seq__13653_13672__$1 = temp__4092__auto___13671;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13653_13672__$1))
{var c__4150__auto___13673 = cljs.core.chunk_first.call(null,seq__13653_13672__$1);{
var G__13674 = cljs.core.chunk_rest.call(null,seq__13653_13672__$1);
var G__13675 = c__4150__auto___13673;
var G__13676 = cljs.core.count.call(null,c__4150__auto___13673);
var G__13677 = 0;
seq__13653_13662 = G__13674;
chunk__13654_13663 = G__13675;
count__13655_13664 = G__13676;
i__13656_13665 = G__13677;
continue;
}
} else
{var tab_13678 = cljs.core.first.call(null,seq__13653_13672__$1);lt.object.destroy_BANG_.call(null,tab_13678);
{
var G__13679 = cljs.core.next.call(null,seq__13653_13672__$1);
var G__13680 = null;
var G__13681 = 0;
var G__13682 = 0;
seq__13653_13662 = G__13679;
chunk__13654_13663 = G__13680;
count__13655_13664 = G__13681;
i__13656_13665 = G__13682;
continue;
}
}
} else
{}
}
break;
}
sortable(item,(function (){var obj13658 = {"axis":"x","distance":10,"scroll":false,"opacity":0.9,"connectWith":".list"};return obj13658;
})());
lt.util.dom.on.call(null,item,"contextmenu",(function (e){return lt.object.raise.call(null,multi,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}));
lt.util.dom.on.call(null,item,"moved",(function (e){return lt.objs.tabs.move_tab.call(null,multi,e.opts);
}));
lt.util.dom.on.call(null,item,"sortupdate",(function (e){return lt.objs.tabs.update_tab_order.call(null,multi,e.opts);
}));
return item;
});
lt.objs.tabs.tabbed_item = (function tabbed_item(active,item){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.content","div.content",3533478798),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"display","display",2685668404),crate.binding.bound.call(null,active,(function (p1__13683_SHARP_){if(cljs.core._EQ_.call(null,p1__13683_SHARP_,cljs.core.deref.call(null,item)))
{return "";
} else
{return "none";
}
}))], null)], null),crate.binding.bound.call(null,item,(function (p1__13684_SHARP_){if(cljs.core.truth_(p1__13684_SHARP_))
{return lt.object.__GT_content.call(null,p1__13684_SHARP_);
} else
{return null;
}
}))], null));var seq__13691_13697 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__13692_13698 = null;var count__13693_13699 = 0;var i__13694_13700 = 0;while(true){
if((i__13694_13700 < count__13693_13699))
{var vec__13695_13701 = cljs.core._nth.call(null,chunk__13692_13698,i__13694_13700);var ev__4336__auto___13702 = cljs.core.nth.call(null,vec__13695_13701,0,null);var func__4337__auto___13703 = cljs.core.nth.call(null,vec__13695_13701,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13702,func__4337__auto___13703);
{
var G__13704 = seq__13691_13697;
var G__13705 = chunk__13692_13698;
var G__13706 = count__13693_13699;
var G__13707 = (i__13694_13700 + 1);
seq__13691_13697 = G__13704;
chunk__13692_13698 = G__13705;
count__13693_13699 = G__13706;
i__13694_13700 = G__13707;
continue;
}
} else
{var temp__4092__auto___13708 = cljs.core.seq.call(null,seq__13691_13697);if(temp__4092__auto___13708)
{var seq__13691_13709__$1 = temp__4092__auto___13708;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13691_13709__$1))
{var c__4150__auto___13710 = cljs.core.chunk_first.call(null,seq__13691_13709__$1);{
var G__13711 = cljs.core.chunk_rest.call(null,seq__13691_13709__$1);
var G__13712 = c__4150__auto___13710;
var G__13713 = cljs.core.count.call(null,c__4150__auto___13710);
var G__13714 = 0;
seq__13691_13697 = G__13711;
chunk__13692_13698 = G__13712;
count__13693_13699 = G__13713;
i__13694_13700 = G__13714;
continue;
}
} else
{var vec__13696_13715 = cljs.core.first.call(null,seq__13691_13709__$1);var ev__4336__auto___13716 = cljs.core.nth.call(null,vec__13696_13715,0,null);var func__4337__auto___13717 = cljs.core.nth.call(null,vec__13696_13715,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13716,func__4337__auto___13717);
{
var G__13718 = cljs.core.next.call(null,seq__13691_13709__$1);
var G__13719 = null;
var G__13720 = 0;
var G__13721 = 0;
seq__13691_13697 = G__13718;
chunk__13692_13698 = G__13719;
count__13693_13699 = G__13720;
i__13694_13700 = G__13721;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.tabs.vertical_grip = (function vertical_grip(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.vertical-grip","div.vertical-grip",4287455262),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"draggable","draggable",709423359),"true"], null)], null));var seq__13728_13734 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dragstart","dragstart",721070880),(function (e){e.dataTransfer.dropEffect = "move";
e.dataTransfer.setData("text/plain",null);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"start-drag","start-drag",3689081649),e);
}),new cljs.core.Keyword(null,"dragend","dragend",2926432921),(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"end-drag","end-drag",2692811352),e);
}),new cljs.core.Keyword(null,"drag","drag",1016996006),(function (e){e.dataTransfer.dropEffect = "move";
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"width!","width!",4520836749),e);
})], null)));var chunk__13729_13735 = null;var count__13730_13736 = 0;var i__13731_13737 = 0;while(true){
if((i__13731_13737 < count__13730_13736))
{var vec__13732_13738 = cljs.core._nth.call(null,chunk__13729_13735,i__13731_13737);var ev__4336__auto___13739 = cljs.core.nth.call(null,vec__13732_13738,0,null);var func__4337__auto___13740 = cljs.core.nth.call(null,vec__13732_13738,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13739,func__4337__auto___13740);
{
var G__13741 = seq__13728_13734;
var G__13742 = chunk__13729_13735;
var G__13743 = count__13730_13736;
var G__13744 = (i__13731_13737 + 1);
seq__13728_13734 = G__13741;
chunk__13729_13735 = G__13742;
count__13730_13736 = G__13743;
i__13731_13737 = G__13744;
continue;
}
} else
{var temp__4092__auto___13745 = cljs.core.seq.call(null,seq__13728_13734);if(temp__4092__auto___13745)
{var seq__13728_13746__$1 = temp__4092__auto___13745;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13728_13746__$1))
{var c__4150__auto___13747 = cljs.core.chunk_first.call(null,seq__13728_13746__$1);{
var G__13748 = cljs.core.chunk_rest.call(null,seq__13728_13746__$1);
var G__13749 = c__4150__auto___13747;
var G__13750 = cljs.core.count.call(null,c__4150__auto___13747);
var G__13751 = 0;
seq__13728_13734 = G__13748;
chunk__13729_13735 = G__13749;
count__13730_13736 = G__13750;
i__13731_13737 = G__13751;
continue;
}
} else
{var vec__13733_13752 = cljs.core.first.call(null,seq__13728_13746__$1);var ev__4336__auto___13753 = cljs.core.nth.call(null,vec__13733_13752,0,null);var func__4337__auto___13754 = cljs.core.nth.call(null,vec__13733_13752,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13753,func__4337__auto___13754);
{
var G__13755 = cljs.core.next.call(null,seq__13728_13746__$1);
var G__13756 = null;
var G__13757 = 0;
var G__13758 = 0;
seq__13728_13734 = G__13755;
chunk__13729_13735 = G__13756;
count__13730_13736 = G__13757;
i__13731_13737 = G__13758;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.tabs.__GT_perc = (function __GT_perc(x){if(cljs.core.truth_(x))
{return [cljs.core.str(x),cljs.core.str("%")].join('');
} else
{return "0";
}
});
lt.objs.tabs.floored = (function floored(x){if((x < 0))
{return 0;
} else
{if((x > 100))
{return 100;
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return x;
} else
{return null;
}
}
}
});
lt.objs.tabs.to_perc = (function to_perc(width,x){return ((x / width) * 100);
});
lt.objs.tabs.next_tabset = (function next_tabset(t){var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576));return cljs.core.second.call(null,cljs.core.drop_while.call(null,(function (p1__13759_SHARP_){return cljs.core.not_EQ_.call(null,t,p1__13759_SHARP_);
}),ts));
});
lt.objs.tabs.prev_tabset = (function prev_tabset(t){var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576));return cljs.core.last.call(null,cljs.core.take_while.call(null,(function (p1__13760_SHARP_){return cljs.core.not_EQ_.call(null,t,p1__13760_SHARP_);
}),ts));
});
lt.objs.tabs.previous_tabset_width = (function previous_tabset_width(cur){var ts = cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576));return cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.map.call(null,cljs.core.comp.call(null,new cljs.core.Keyword(null,"width","width",1127031096),cljs.core.deref),cljs.core.take_while.call(null,(function (p1__13761_SHARP_){return cljs.core.not_EQ_.call(null,cur,p1__13761_SHARP_);
}),ts)));
});
lt.objs.tabs.add_tabset = (function add_tabset(ts){lt.object.update_BANG_.call(null,lt.objs.tabs.multi,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabsets","tabsets",3756175576)], null),cljs.core.conj,ts);
return lt.util.dom.append.call(null,new cljs.core.Keyword(null,"tabsets-elem","tabsets-elem",4253111048).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)),lt.object.__GT_content.call(null,ts));
});
lt.objs.tabs.spawn_tabset = (function spawn_tabset(){var ts = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779));var width = (100 - cljs.core.reduce.call(null,cljs.core._PLUS_,cljs.core.map.call(null,cljs.core.comp.call(null,new cljs.core.Keyword(null,"width","width",1127031096),cljs.core.deref),cljs.core.deref.call(null,lt.objs.tabs.multi).call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576)))));lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),width], null));
lt.objs.tabs.add_tabset.call(null,ts);
return ts;
});
lt.objs.tabs.equalize_tabset_widths = (function equalize_tabset_widths(){var tss = new cljs.core.Keyword(null,"tabsets","tabsets",3756175576).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));var width = (100.0 / cljs.core.count.call(null,tss));var seq__13766 = cljs.core.seq.call(null,tss);var chunk__13767 = null;var count__13768 = 0;var i__13769 = 0;while(true){
if((i__13769 < count__13768))
{var ts = cljs.core._nth.call(null,chunk__13767,i__13769);lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),width], null));
{
var G__13770 = seq__13766;
var G__13771 = chunk__13767;
var G__13772 = count__13768;
var G__13773 = (i__13769 + 1);
seq__13766 = G__13770;
chunk__13767 = G__13771;
count__13768 = G__13772;
i__13769 = G__13773;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__13766);if(temp__4092__auto__)
{var seq__13766__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13766__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__13766__$1);{
var G__13774 = cljs.core.chunk_rest.call(null,seq__13766__$1);
var G__13775 = c__4150__auto__;
var G__13776 = cljs.core.count.call(null,c__4150__auto__);
var G__13777 = 0;
seq__13766 = G__13774;
chunk__13767 = G__13775;
count__13768 = G__13776;
i__13769 = G__13777;
continue;
}
} else
{var ts = cljs.core.first.call(null,seq__13766__$1);lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),width], null));
{
var G__13778 = cljs.core.next.call(null,seq__13766__$1);
var G__13779 = null;
var G__13780 = 0;
var G__13781 = 0;
seq__13766 = G__13778;
chunk__13767 = G__13779;
count__13768 = G__13780;
i__13769 = G__13781;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.objs.tabs.temp_width = (function temp_width(ts,w){return lt.util.dom.css.call(null,lt.object.__GT_content.call(null,ts),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"width","width",1127031096),lt.objs.tabs.__GT_perc.call(null,w),new cljs.core.Keyword(null,"border-width","border-width",1324275799),((cljs.core._EQ_.call(null,0,w))?0:"")], null));
});
lt.objs.tabs.activate_tabset = (function activate_tabset(ts){if(cljs.core._EQ_.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)),ts))
{return null;
} else
{var temp__4092__auto___13782 = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto___13782))
{var old_13783 = temp__4092__auto___13782;lt.util.dom.remove_class.call(null,lt.object.__GT_content.call(null,old_13783),new cljs.core.Keyword(null,"active","active",3885920888));
} else
{}
lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575),ts);
lt.util.dom.add_class.call(null,lt.object.__GT_content.call(null,ts),new cljs.core.Keyword(null,"active","active",3885920888));
return true;
}
});
lt.objs.tabs.tabset_ui = (function tabset_ui(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tabset","div.tabset",2815514652),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"width","width",1127031096)),lt.objs.tabs.__GT_perc)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.list","div.list",1323928397),crate.binding.bound.call(null,this$,(function (p1__13784_SHARP_){return lt.objs.tabs.objs_list.call(null,this$,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(p1__13784_SHARP_));
}))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.items","div.items",2032262037),crate.binding.map_bound.call(null,cljs.core.partial.call(null,lt.objs.tabs.tabbed_item,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826))),this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"path","path",1017337751),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"objs","objs",1017308622)], null)], null))], null),lt.objs.tabs.vertical_grip.call(null,this$)], null));var seq__13791_13797 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
})], null)));var chunk__13792_13798 = null;var count__13793_13799 = 0;var i__13794_13800 = 0;while(true){
if((i__13794_13800 < count__13793_13799))
{var vec__13795_13801 = cljs.core._nth.call(null,chunk__13792_13798,i__13794_13800);var ev__4336__auto___13802 = cljs.core.nth.call(null,vec__13795_13801,0,null);var func__4337__auto___13803 = cljs.core.nth.call(null,vec__13795_13801,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13802,func__4337__auto___13803);
{
var G__13804 = seq__13791_13797;
var G__13805 = chunk__13792_13798;
var G__13806 = count__13793_13799;
var G__13807 = (i__13794_13800 + 1);
seq__13791_13797 = G__13804;
chunk__13792_13798 = G__13805;
count__13793_13799 = G__13806;
i__13794_13800 = G__13807;
continue;
}
} else
{var temp__4092__auto___13808 = cljs.core.seq.call(null,seq__13791_13797);if(temp__4092__auto___13808)
{var seq__13791_13809__$1 = temp__4092__auto___13808;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13791_13809__$1))
{var c__4150__auto___13810 = cljs.core.chunk_first.call(null,seq__13791_13809__$1);{
var G__13811 = cljs.core.chunk_rest.call(null,seq__13791_13809__$1);
var G__13812 = c__4150__auto___13810;
var G__13813 = cljs.core.count.call(null,c__4150__auto___13810);
var G__13814 = 0;
seq__13791_13797 = G__13811;
chunk__13792_13798 = G__13812;
count__13793_13799 = G__13813;
i__13794_13800 = G__13814;
continue;
}
} else
{var vec__13796_13815 = cljs.core.first.call(null,seq__13791_13809__$1);var ev__4336__auto___13816 = cljs.core.nth.call(null,vec__13796_13815,0,null);var func__4337__auto___13817 = cljs.core.nth.call(null,vec__13796_13815,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___13816,func__4337__auto___13817);
{
var G__13818 = cljs.core.next.call(null,seq__13791_13809__$1);
var G__13819 = null;
var G__13820 = 0;
var G__13821 = 0;
seq__13791_13797 = G__13818;
chunk__13792_13798 = G__13819;
count__13793_13799 = G__13820;
i__13794_13800 = G__13821;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779),new cljs.core.Keyword(null,"objs","objs",1017308622),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826),null,new cljs.core.Keyword(null,"count","count",1108755585),0,new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabset","tabset",4427500575),null], null), null),new cljs.core.Keyword(null,"width","width",1127031096),100,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return lt.objs.tabs.tabset_ui.call(null,this$);
}));
lt.objs.tabs.__GT_tabsets = (function __GT_tabsets(tabs){var iter__4119__auto__ = (function iter__13826(s__13827){return (new cljs.core.LazySeq(null,(function (){var s__13827__$1 = s__13827;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__13827__$1);if(temp__4092__auto__)
{var s__13827__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__13827__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__13827__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__13829 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__13828 = 0;while(true){
if((i__13828 < size__4118__auto__))
{var k = cljs.core._nth.call(null,c__4117__auto__,i__13828);cljs.core.chunk_append.call(null,b__13829,lt.object.__GT_content.call(null,k));
{
var G__13830 = (i__13828 + 1);
i__13828 = G__13830;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13829),iter__13826.call(null,cljs.core.chunk_rest.call(null,s__13827__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__13829),null);
}
} else
{var k = cljs.core.first.call(null,s__13827__$2);return cljs.core.cons.call(null,lt.object.__GT_content.call(null,k),iter__13826.call(null,cljs.core.rest.call(null,s__13827__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,tabs);
});
lt.objs.tabs.tabset = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779));
lt.objs.tabs.add_BANG_ = (function() {
var add_BANG_ = null;
var add_BANG___1 = (function (obj){return add_BANG_.call(null,obj,null);
});
var add_BANG___2 = (function (obj,ts){var temp__4092__auto__ = (function (){var or__3408__auto__ = ts;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));
}
})();if(cljs.core.truth_(temp__4092__auto__))
{var cur_tabset = temp__4092__auto__;lt.object.add_tags.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabset.tab","tabset.tab",1444337222)], null));
lt.object.update_BANG_.call(null,cur_tabset,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"objs","objs",1017308622)], null),cljs.core.conj,obj);
lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779),cur_tabset], null));
cljs.core.add_watch.call(null,crate.binding.subatom.call(null,obj,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dirty","dirty",1109497668)], null)),new cljs.core.Keyword(null,"tabs","tabs",1017456368),(function (_,___$1,___$2,cur){return lt.object.raise.call(null,cur_tabset,new cljs.core.Keyword(null,"tab.updated","tab.updated",2727558868));
}));
return obj;
} else
{return null;
}
});
add_BANG_ = function(obj,ts){
switch(arguments.length){
case 1:
return add_BANG___1.call(this,obj);
case 2:
return add_BANG___2.call(this,obj,ts);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
add_BANG_.cljs$core$IFn$_invoke$arity$1 = add_BANG___1;
add_BANG_.cljs$core$IFn$_invoke$arity$2 = add_BANG___2;
return add_BANG_;
})()
;
lt.objs.tabs.rem_tabset = (function() {
var rem_tabset = null;
var rem_tabset__1 = (function (ts){return rem_tabset.call(null,ts,false);
});
var rem_tabset__2 = (function (ts,prev_QMARK_){var to_ts = (cljs.core.truth_(prev_QMARK_)?(function (){var or__3408__auto__ = lt.objs.tabs.prev_tabset.call(null,ts);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.tabs.next_tabset.call(null,ts);
}
})():(function (){var or__3408__auto__ = lt.objs.tabs.next_tabset.call(null,ts);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.tabs.prev_tabset.call(null,ts);
}
})());if(cljs.core.truth_(to_ts))
{lt.object.merge_BANG_.call(null,to_ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),lt.objs.tabs.floored.call(null,(new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,to_ts)) + new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts))))], null));
lt.util.dom.remove.call(null,lt.object.__GT_content.call(null,ts));
var seq__13836_13840 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));var chunk__13837_13841 = null;var count__13838_13842 = 0;var i__13839_13843 = 0;while(true){
if((i__13839_13843 < count__13838_13842))
{var t_13844 = cljs.core._nth.call(null,chunk__13837_13841,i__13839_13843);lt.objs.tabs.add_BANG_.call(null,t_13844,to_ts);
{
var G__13845 = seq__13836_13840;
var G__13846 = chunk__13837_13841;
var G__13847 = count__13838_13842;
var G__13848 = (i__13839_13843 + 1);
seq__13836_13840 = G__13845;
chunk__13837_13841 = G__13846;
count__13838_13842 = G__13847;
i__13839_13843 = G__13848;
continue;
}
} else
{var temp__4092__auto___13849 = cljs.core.seq.call(null,seq__13836_13840);if(temp__4092__auto___13849)
{var seq__13836_13850__$1 = temp__4092__auto___13849;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13836_13850__$1))
{var c__4150__auto___13851 = cljs.core.chunk_first.call(null,seq__13836_13850__$1);{
var G__13852 = cljs.core.chunk_rest.call(null,seq__13836_13850__$1);
var G__13853 = c__4150__auto___13851;
var G__13854 = cljs.core.count.call(null,c__4150__auto___13851);
var G__13855 = 0;
seq__13836_13840 = G__13852;
chunk__13837_13841 = G__13853;
count__13838_13842 = G__13854;
i__13839_13843 = G__13855;
continue;
}
} else
{var t_13856 = cljs.core.first.call(null,seq__13836_13850__$1);lt.objs.tabs.add_BANG_.call(null,t_13856,to_ts);
{
var G__13857 = cljs.core.next.call(null,seq__13836_13850__$1);
var G__13858 = null;
var G__13859 = 0;
var G__13860 = 0;
seq__13836_13840 = G__13857;
chunk__13837_13841 = G__13858;
count__13838_13842 = G__13859;
i__13839_13843 = G__13860;
continue;
}
}
} else
{}
}
break;
}
lt.object.update_BANG_.call(null,lt.objs.tabs.multi,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabsets","tabsets",3756175576)], null),(function (p1__13831_SHARP_){return cljs.core.vec.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.fromArray([ts], true),p1__13831_SHARP_));
}));
lt.object.destroy_BANG_.call(null,ts);
lt.objs.tabs.equalize_tabset_widths.call(null);
return lt.object.raise.call(null,to_ts,new cljs.core.Keyword(null,"active","active",3885920888));
} else
{return null;
}
});
rem_tabset = function(ts,prev_QMARK_){
switch(arguments.length){
case 1:
return rem_tabset__1.call(this,ts);
case 2:
return rem_tabset__2.call(this,ts,prev_QMARK_);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
rem_tabset.cljs$core$IFn$_invoke$arity$1 = rem_tabset__1;
rem_tabset.cljs$core$IFn$_invoke$arity$2 = rem_tabset__2;
return rem_tabset;
})()
;
lt.objs.tabs.rem_BANG_ = (function rem_BANG_(obj){if(cljs.core.truth_((function (){var and__3396__auto__ = obj;if(cljs.core.truth_(and__3396__auto__))
{var and__3396__auto____$1 = cljs.core.deref.call(null,obj);if(cljs.core.truth_(and__3396__auto____$1))
{return new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{var cur_tabset = new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));var idx = lt.objs.tabs.__GT_index.call(null,obj);var active = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur_tabset));var aidx = lt.objs.tabs.__GT_index.call(null,active);cljs.core.remove_watch.call(null,obj,new cljs.core.Keyword(null,"tabs","tabs",1017456368));
lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779),null], null));
lt.object.merge_BANG_.call(null,cur_tabset,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"objs","objs",1017308622),cljs.core.vec.call(null,cljs.core.remove.call(null,(function (p1__13861_SHARP_){return cljs.core._EQ_.call(null,obj,p1__13861_SHARP_);
}),cljs.core.deref.call(null,cur_tabset).call(null,new cljs.core.Keyword(null,"objs","objs",1017308622))))], null));
if(cljs.core._EQ_.call(null,obj,active))
{return lt.object.raise.call(null,cur_tabset,new cljs.core.Keyword(null,"tab","tab",1014018823),idx);
} else
{if(cljs.core.not_EQ_.call(null,aidx,lt.objs.tabs.__GT_index.call(null,active)))
{lt.object.merge_BANG_.call(null,cur_tabset,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active-obj","active-obj",3056705826),null], null));
return lt.objs.tabs.active_BANG_.call(null,active);
} else
{return null;
}
}
} else
{return null;
}
});
lt.objs.tabs.refresh_BANG_ = (function refresh_BANG_(obj){var temp__4092__auto__ = new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,obj));if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;return lt.object.raise.call(null,ts,new cljs.core.Keyword(null,"tab.updated","tab.updated",2727558868));
} else
{return null;
}
});
lt.objs.tabs.in_tab_QMARK_ = (function in_tab_QMARK_(obj){return cljs.core.deref.call(null,obj).call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779));
});
lt.objs.tabs.add_or_focus_BANG_ = (function add_or_focus_BANG_(obj){if(cljs.core.truth_(lt.objs.tabs.in_tab_QMARK_.call(null,obj)))
{return lt.objs.tabs.active_BANG_.call(null,obj);
} else
{lt.objs.tabs.add_BANG_.call(null,obj);
return lt.objs.tabs.active_BANG_.call(null,obj);
}
});
lt.objs.tabs.num_tabs = (function num_tabs(){return cljs.core.reduce.call(null,(function (res,cur){return (res + cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur))));
}),0,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));
});
lt.objs.tabs.active_tab = (function active_tab(){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto__))
{var cur_tabset = temp__4092__auto__;return new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur_tabset));
} else
{return null;
}
});
lt.objs.tabs.move_tab_to_tabset = (function move_tab_to_tabset(obj,ts){lt.objs.tabs.rem_BANG_.call(null,obj);
lt.objs.tabs.add_BANG_.call(null,obj,ts);
return lt.objs.tabs.active_BANG_.call(null,obj);
});
lt.objs.tabs.move_tab = (function move_tab(multi,elem){var id = lt.util.dom.attr.call(null,elem,new cljs.core.Keyword(null,"obj-id","obj-id",4285449507));var idx = lt.util.dom.index.call(null,elem);var obj = lt.object.by_id.call(null,parseInt(id));var cnt = cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,multi)));lt.objs.tabs.rem_BANG_.call(null,obj);
lt.objs.tabs.add_BANG_.call(null,obj,multi);
if((cnt > 0))
{lt.objs.tabs.update_tab_order.call(null,multi,cljs.core.vec.call(null,cljs.core.concat.call(null,cljs.core.range.call(null,idx),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cnt], null),cljs.core.range.call(null,idx,cnt))));
} else
{}
return lt.objs.tabs.active_BANG_.call(null,obj);
});
lt.objs.tabs.__BEH__on_destroy_remove = (function __BEH__on_destroy_remove(this$){return lt.objs.tabs.rem_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-destroy-remove","lt.objs.tabs/on-destroy-remove",1369860715),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__on_destroy_remove,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"destroy","destroy",2571277164),null,new cljs.core.Keyword(null,"closed","closed",3951351006),null], null), null));
lt.objs.tabs.__BEH__active_tab_num = (function __BEH__active_tab_num(this$,num){var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",1017308622));if((num < cljs.core.count.call(null,objs)))
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,num));
} else
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(cljs.core.count.call(null,objs) - 1)));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","active-tab-num","lt.objs.tabs/active-tab-num",3859758153),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__active_tab_num,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab","tab",1014018823),null], null), null));
lt.objs.tabs.__BEH__prev_tab = (function __BEH__prev_tab(this$){var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",1017308622));var idx = lt.objs.tabs.__GT_index.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));if((idx > 0))
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(idx - 1)));
} else
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,(cljs.core.count.call(null,objs) - 1)));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","prev-tab","lt.objs.tabs/prev-tab",3503997629),new cljs.core.Keyword(null,"throttle","throttle",2497347228),100,new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__prev_tab,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.prev","tab.prev",4356539486),null], null), null));
lt.objs.tabs.__BEH__next_tab = (function __BEH__next_tab(this$){var objs = cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"objs","objs",1017308622));var idx = (lt.objs.tabs.__GT_index.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) + 1);if((idx < cljs.core.count.call(null,objs)))
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,idx));
} else
{return lt.objs.tabs.active_BANG_.call(null,cljs.core.get.call(null,objs,0));
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","next-tab","lt.objs.tabs/next-tab",4026023933),new cljs.core.Keyword(null,"throttle","throttle",2497347228),100,new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__next_tab,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.next","tab.next",4356467998),null], null), null));
lt.objs.tabs.__BEH__tab_close = (function __BEH__tab_close(this$){try{var orig = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));return lt.object.raise.call(null,orig,new cljs.core.Keyword(null,"close","close",1108660586));
}catch (e13863){if((e13863 instanceof Error))
{var e = e13863;return lt.objs.console.error(e);
} else
{if((e13863 instanceof global.Error))
{var e = e13863;return lt.objs.console.error(e);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{throw e13863;
} else
{return null;
}
}
}
}});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-close","lt.objs.tabs/tab-close",921329682),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tab_close,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.close","tab.close",1544206801),null], null), null));
lt.objs.tabs.__BEH__on_destroy_objs = (function __BEH__on_destroy_objs(this$){var seq__13868 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var chunk__13869 = null;var count__13870 = 0;var i__13871 = 0;while(true){
if((i__13871 < count__13870))
{var e = cljs.core._nth.call(null,chunk__13869,i__13871);lt.object.destroy_BANG_.call(null,e);
{
var G__13872 = seq__13868;
var G__13873 = chunk__13869;
var G__13874 = count__13870;
var G__13875 = (i__13871 + 1);
seq__13868 = G__13872;
chunk__13869 = G__13873;
count__13870 = G__13874;
i__13871 = G__13875;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__13868);if(temp__4092__auto__)
{var seq__13868__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13868__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__13868__$1);{
var G__13876 = cljs.core.chunk_rest.call(null,seq__13868__$1);
var G__13877 = c__4150__auto__;
var G__13878 = cljs.core.count.call(null,c__4150__auto__);
var G__13879 = 0;
seq__13868 = G__13876;
chunk__13869 = G__13877;
count__13870 = G__13878;
i__13871 = G__13879;
continue;
}
} else
{var e = cljs.core.first.call(null,seq__13868__$1);lt.object.destroy_BANG_.call(null,e);
{
var G__13880 = cljs.core.next.call(null,seq__13868__$1);
var G__13881 = null;
var G__13882 = 0;
var G__13883 = 0;
seq__13868 = G__13880;
chunk__13869 = G__13881;
count__13870 = G__13882;
i__13871 = G__13883;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-destroy-objs","lt.objs.tabs/on-destroy-objs",2776869971),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__on_destroy_objs,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",2571277164),null], null), null));
lt.objs.tabs.__BEH__repaint_tab_updated = (function __BEH__repaint_tab_updated(this$){return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"count","count",1108755585)], null),cljs.core.inc);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","repaint-tab-updated","lt.objs.tabs/repaint-tab-updated",1521843223),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__repaint_tab_updated,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tab.updated","tab.updated",2727558868),null], null), null));
lt.objs.tabs.__BEH__no_anim_on_drag = (function __BEH__no_anim_on_drag(this$){return lt.objs.animations.off.call(null);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","no-anim-on-drag","lt.objs.tabs/no-anim-on-drag",2746913928),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__no_anim_on_drag,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"start-drag","start-drag",3689081649),null], null), null));
lt.objs.tabs.__BEH__reanim_on_drop = (function __BEH__reanim_on_drop(this$){return lt.objs.animations.on.call(null);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","reanim-on-drop","lt.objs.tabs/reanim-on-drop",2109600678),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__reanim_on_drop,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",2692811352),null], null), null));
lt.objs.tabs.__BEH__set_dragging = (function __BEH__set_dragging(this$){return lt.util.dom.add_class.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"body","body",1016933652)),new cljs.core.Keyword(null,"dragging","dragging",4467773633));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","set-dragging","lt.objs.tabs/set-dragging",3265197408),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__set_dragging,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"start-drag","start-drag",3689081649),null], null), null));
lt.objs.tabs.__BEH__unset_dragging = (function __BEH__unset_dragging(this$){return lt.util.dom.remove_class.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"body","body",1016933652)),new cljs.core.Keyword(null,"dragging","dragging",4467773633));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","unset-dragging","lt.objs.tabs/unset-dragging",4764787269),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__unset_dragging,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",2692811352),null], null), null));
lt.objs.tabs.__BEH__set_width_final_BANG_ = (function __BEH__set_width_final_BANG_(this$,e){var temp__4092__auto__ = lt.objs.tabs.next_tabset.call(null,this$);if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;var width = lt.util.dom.width.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi));var left = new cljs.core.Keyword(null,"left","left",1017222009).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));var cx = e.clientX;var new_loc = ((width + left) - cx);var new_perc = lt.objs.tabs.floored.call(null,(((100 - lt.objs.tabs.previous_tabset_width.call(null,this$)) - lt.objs.tabs.to_perc.call(null,width,new_loc)) | 0));var prev_width = new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var new_perc__$1 = (((new_perc >= (new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width)))?(new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width):new_perc);var next_width = lt.objs.tabs.floored.call(null,((cljs.core.not.call(null,ts))?1:(new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + (prev_width - new_perc__$1))));if(cljs.core._EQ_.call(null,new_perc__$1,0))
{return lt.objs.tabs.rem_tabset.call(null,this$);
} else
{if(cljs.core._EQ_.call(null,next_width,0))
{return lt.objs.tabs.rem_tabset.call(null,ts,new cljs.core.Keyword(null,"prev","prev",1017353637));
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{if(cljs.core._EQ_.call(null,cx,0))
{return null;
} else
{if((new_perc__$1 < 0))
{return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),100], null));
} else
{if(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core.not_EQ_.call(null,cx,0);if(and__3396__auto__)
{var and__3396__auto____$1 = ts;if(cljs.core.truth_(and__3396__auto____$1))
{return ((new_perc__$1 >= 0)) && ((next_width >= 0));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),new_perc__$1], null));
if(cljs.core.truth_(ts))
{return lt.object.merge_BANG_.call(null,ts,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",1127031096),next_width], null));
} else
{return lt.objs.tabs.spawn_tabset.call(null);
}
} else
{return null;
}
}
}
} else
{return null;
}
}
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","set-width-final!","lt.objs.tabs/set-width-final!",4331804915),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__set_width_final_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"end-drag","end-drag",2692811352),null], null), null));
lt.objs.tabs.__BEH__width_BANG_ = (function __BEH__width_BANG_(this$,e){var width = lt.util.dom.width.call(null,lt.object.__GT_content.call(null,lt.objs.tabs.multi));var left = new cljs.core.Keyword(null,"left","left",1017222009).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi));var cx = e.clientX;var new_loc = ((width + left) - cx);var new_perc = lt.objs.tabs.floored.call(null,(((100 - lt.objs.tabs.previous_tabset_width.call(null,this$)) - lt.objs.tabs.to_perc.call(null,width,new_loc)) | 0));var prev_width = new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var ts = lt.objs.tabs.next_tabset.call(null,this$);var new_perc__$1 = (cljs.core.truth_((function (){var and__3396__auto__ = ts;if(cljs.core.truth_(and__3396__auto__))
{return (new_perc >= (new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width));
} else
{return and__3396__auto__;
}
})())?(new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + prev_width):new_perc);var next_width = lt.objs.tabs.floored.call(null,((cljs.core.not.call(null,ts))?1:(new cljs.core.Keyword(null,"width","width",1127031096).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)) + (prev_width - new_perc__$1))));if(cljs.core._EQ_.call(null,cx,0))
{return null;
} else
{if((new_perc__$1 < 0))
{return lt.objs.tabs.temp_width.call(null,this$,100);
} else
{if(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core.not_EQ_.call(null,cx,0);if(and__3396__auto__)
{var and__3396__auto____$1 = ts;if(cljs.core.truth_(and__3396__auto____$1))
{return ((new_perc__$1 >= 0)) && ((next_width >= 0));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{lt.objs.tabs.temp_width.call(null,this$,new_perc__$1);
if(cljs.core.truth_(ts))
{return lt.objs.tabs.temp_width.call(null,ts,next_width);
} else
{return lt.objs.tabs.spawn_tabset.call(null);
}
} else
{return null;
}
}
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","width!","lt.objs.tabs/width!",1942600349),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__width_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width!","width!",4520836749),null], null), null));
lt.objs.tabs.__BEH__tab_active = (function __BEH__tab_active(this$){return lt.objs.tabs.activate_tabset.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset","lt.objs.tabs/tabset",3378091779).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-active","lt.objs.tabs/tab-active",3117606804),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tab_active,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null), null));
lt.objs.tabs.__BEH__tab_label_menu_PLUS_ = (function __BEH__tab_label_menu_PLUS_(this$,items){return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"Move tab to new tabset",new cljs.core.Keyword(null,"order","order",1119910592),1,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabs.move-new-tabset","tabs.move-new-tabset",1394582008),new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",3521887033).cljs$core$IFn$_invoke$arity$1(this$));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"Close tab",new cljs.core.Keyword(null,"order","order",1119910592),2,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"close","close",1108660586));
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tab-label-menu+","lt.objs.tabs/tab-label-menu+",3717573469),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tab_label_menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.tabs.__BEH__on_close_tab_label = (function __BEH__on_close_tab_label(this$){var temp__4092__auto___13884 = new cljs.core.Keyword("lt.objs.tabs","tab-object","lt.objs.tabs/tab-object",3521887033).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(temp__4092__auto___13884))
{var e_13885 = temp__4092__auto___13884;lt.object.raise.call(null,e_13885,new cljs.core.Keyword(null,"close","close",1108660586));
} else
{}
return lt.object.destroy_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","on-close-tab-label","lt.objs.tabs/on-close-tab-label",1131551871),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__on_close_tab_label,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close","close",1108660586),null], null), null));
lt.objs.tabs.__BEH__tabset_active = (function __BEH__tabset_active(this$){if(cljs.core.truth_(lt.objs.tabs.activate_tabset.call(null,this$)))
{var temp__4092__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(temp__4092__auto__))
{var active = temp__4092__auto__;return lt.object.raise.call(null,active,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return null;
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-active","lt.objs.tabs/tabset-active",1106535340),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tabset_active,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"active","active",3885920888),null], null), null));
lt.objs.tabs.__BEH__tabset_menu_PLUS_ = (function __BEH__tabset_menu_PLUS_(this$,items){return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"New tabset",new cljs.core.Keyword(null,"order","order",1119910592),1,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabset.new","tabset.new",1444331601));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"Close tabset",new cljs.core.Keyword(null,"order","order",1119910592),2,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.tabs.rem_tabset.call(null,this$);
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-menu+","lt.objs.tabs/tabset-menu+",1202208846),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tabset_menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.tabs.__BEH__left_BANG_ = (function __BEH__left_BANG_(this$,v){return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"left","left",1017222009)], null),cljs.core._PLUS_,v);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","left!","lt.objs.tabs/left!",2125172416),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__left_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"left!","left!",1116755052),null], null), null));
lt.objs.tabs.__BEH__right_BANG_ = (function __BEH__right_BANG_(this$,v){return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"right","right",1122416014)], null),cljs.core._PLUS_,v);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","right!","lt.objs.tabs/right!",3429024843),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__right_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"right!","right!",4377769207),null], null), null));
lt.objs.tabs.__BEH__bottom_BANG_ = (function __BEH__bottom_BANG_(this$,v){return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bottom","bottom",3925642653)], null),cljs.core._PLUS_,v);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","bottom!","lt.objs.tabs/bottom!",2158565980),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__bottom_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"bottom!","bottom!",1083481800),null], null), null));
lt.objs.tabs.__BEH__tabset_bottom_BANG_ = (function __BEH__tabset_bottom_BANG_(this$,v){return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tabset-bottom","tabset-bottom",2176185021)], null),cljs.core._PLUS_,v);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","tabset-bottom!","lt.objs.tabs/tabset-bottom!",3779353980),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__tabset_bottom_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tabset-bottom!","tabset-bottom!",2684870056),null], null), null));
lt.objs.tabs.__BEH__init_sortable = (function __BEH__init_sortable(app){return initSortable(window);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","init-sortable","lt.objs.tabs/init-sortable",4237069211),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__init_sortable,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.tabs.__BEH__init = (function __BEH__init(this$){lt.objs.tabs.add_tabset.call(null,lt.objs.tabs.tabset);
return lt.object.raise.call(null,lt.objs.tabs.tabset,new cljs.core.Keyword(null,"active","active",3885920888));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","init","lt.objs.tabs/init",2224810146),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__init,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.tabs.__BEH__show_close_button = (function __BEH__show_close_button(this$){return true;
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.tabs","show-close-button","lt.objs.tabs/show-close-button",2366934073),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.tabs.__BEH__show_close_button,new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Show close button on tabs",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close-button+","close-button+",3559586774),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.move-new-tabset","tabs.move-new-tabset",1394582008),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Move tab to new tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (tab){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;var temp__4092__auto____$1 = (function (){var or__3408__auto__ = tab;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826));
}
})();if(cljs.core.truth_(temp__4092__auto____$1))
{var cur = temp__4092__auto____$1;var new$ = lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"tabset.new","tabset.new",1444331601));return lt.objs.tabs.move_tab_to_tabset.call(null,cur,new$);
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.move-next-tabset","tabs.move-next-tabset",3557293229),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Move tab to next tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;var cur = cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826));var next = (function (){var or__3408__auto__ = lt.objs.tabs.next_tabset.call(null,ts);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.tabs.prev_tabset.call(null,ts);
}
})();if(cljs.core.truth_((function (){var and__3396__auto__ = cur;if(cljs.core.truth_(and__3396__auto__))
{var and__3396__auto____$1 = next;if(cljs.core.truth_(and__3396__auto____$1))
{return cljs.core.not_EQ_.call(null,next,ts);
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{return lt.objs.tabs.move_tab_to_tabset.call(null,cur,next);
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.move-prev-tabset","tabs.move-prev-tabset",876232045),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Move tab to previous tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;var cur = cljs.core.deref.call(null,ts).call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826));var next = (function (){var or__3408__auto__ = lt.objs.tabs.prev_tabset.call(null,ts);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.objs.tabs.next_tabset.call(null,ts);
}
})();if(cljs.core.truth_((function (){var and__3396__auto__ = cur;if(cljs.core.truth_(and__3396__auto__))
{var and__3396__auto____$1 = next;if(cljs.core.truth_(and__3396__auto____$1))
{return cljs.core.not_EQ_.call(null,next,ts);
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})()))
{return lt.objs.tabs.move_tab_to_tabset.call(null,cur,next);
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.next","tabs.next",3470721749),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Next tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)),new cljs.core.Keyword(null,"tab.next","tab.next",4356467998));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.prev","tabs.prev",3470793237),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Previous tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)),new cljs.core.Keyword(null,"tab.prev","tab.prev",4356539486));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.close","tabs.close",4150844154),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Close current tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){if(cljs.core._EQ_.call(null,0,lt.objs.tabs.num_tabs.call(null)))
{lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"window.close","window.close",3118917100));
} else
{}
var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));if(cljs.core.truth_(temp__4092__auto__))
{var ts = temp__4092__auto__;if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts));if(cljs.core.truth_(and__3396__auto__))
{return cljs.core.deref.call(null,new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));
} else
{return and__3396__auto__;
}
})()))
{return lt.object.raise.call(null,ts,new cljs.core.Keyword(null,"tab.close","tab.close",1544206801));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.close-all","tabs.close-all",2444215630),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabs: Close all tabs",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var objs = lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tabset.tab","tabset.tab",1444337222));var seq__13886 = cljs.core.seq.call(null,objs);var chunk__13887 = null;var count__13888 = 0;var i__13889 = 0;while(true){
if((i__13889 < count__13888))
{var obj = cljs.core._nth.call(null,chunk__13887,i__13889);lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1108660586));
{
var G__13890 = seq__13886;
var G__13891 = chunk__13887;
var G__13892 = count__13888;
var G__13893 = (i__13889 + 1);
seq__13886 = G__13890;
chunk__13887 = G__13891;
count__13888 = G__13892;
i__13889 = G__13893;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__13886);if(temp__4092__auto__)
{var seq__13886__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13886__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__13886__$1);{
var G__13894 = cljs.core.chunk_rest.call(null,seq__13886__$1);
var G__13895 = c__4150__auto__;
var G__13896 = cljs.core.count.call(null,c__4150__auto__);
var G__13897 = 0;
seq__13886 = G__13894;
chunk__13887 = G__13895;
count__13888 = G__13896;
i__13889 = G__13897;
continue;
}
} else
{var obj = cljs.core.first.call(null,seq__13886__$1);lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1108660586));
{
var G__13898 = cljs.core.next.call(null,seq__13886__$1);
var G__13899 = null;
var G__13900 = 0;
var G__13901 = 0;
seq__13886 = G__13898;
chunk__13887 = G__13899;
count__13888 = G__13900;
i__13889 = G__13901;
continue;
}
}
} else
{return null;
}
}
break;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.close-others","tabs.close-others",1458098362),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabs: Close tabs except current tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var cur = lt.objs.tabs.active_tab.call(null);var objs = lt.object.by_tag.call(null,new cljs.core.Keyword(null,"tabset.tab","tabset.tab",1444337222));var seq__13902 = cljs.core.seq.call(null,objs);var chunk__13903 = null;var count__13904 = 0;var i__13905 = 0;while(true){
if((i__13905 < count__13904))
{var obj = cljs.core._nth.call(null,chunk__13903,i__13905);if(!((cur === obj)))
{lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1108660586));
} else
{}
{
var G__13906 = seq__13902;
var G__13907 = chunk__13903;
var G__13908 = count__13904;
var G__13909 = (i__13905 + 1);
seq__13902 = G__13906;
chunk__13903 = G__13907;
count__13904 = G__13908;
i__13905 = G__13909;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__13902);if(temp__4092__auto__)
{var seq__13902__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__13902__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__13902__$1);{
var G__13910 = cljs.core.chunk_rest.call(null,seq__13902__$1);
var G__13911 = c__4150__auto__;
var G__13912 = cljs.core.count.call(null,c__4150__auto__);
var G__13913 = 0;
seq__13902 = G__13910;
chunk__13903 = G__13911;
count__13904 = G__13912;
i__13905 = G__13913;
continue;
}
} else
{var obj = cljs.core.first.call(null,seq__13902__$1);if(!((cur === obj)))
{lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"close","close",1108660586));
} else
{}
{
var G__13914 = cljs.core.next.call(null,seq__13902__$1);
var G__13915 = null;
var G__13916 = 0;
var G__13917 = 0;
seq__13902 = G__13914;
chunk__13903 = G__13915;
count__13904 = G__13916;
i__13905 = G__13917;
continue;
}
}
} else
{return null;
}
}
break;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.goto","tabs.goto",3470522693),new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: Goto tab # or :last",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (x){var ts = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575));var tab_count = cljs.core.count.call(null,new cljs.core.Keyword(null,"objs","objs",1017308622).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ts)));var idx = (tab_count - 1);return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)),new cljs.core.Keyword(null,"tab","tab",1014018823),((cljs.core._EQ_.call(null,x,new cljs.core.Keyword(null,"last","last",1017218568)))?idx:x));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabset.next","tabset.next",1472250630),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabset: Next tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4090__auto__ = lt.objs.tabs.next_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)));if(cljs.core.truth_(temp__4090__auto__))
{var n = temp__4090__auto__;return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",3885920888));
} else
{var temp__4090__auto____$1 = cljs.core.get.call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)),0);if(cljs.core.truth_(temp__4090__auto____$1))
{var n = temp__4090__auto____$1;return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",3885920888));
} else
{return null;
}
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabset.prev","tabset.prev",1472322118),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabset: Previous tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4090__auto__ = lt.objs.tabs.prev_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)));if(cljs.core.truth_(temp__4090__auto__))
{var n = temp__4090__auto__;return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",3885920888));
} else
{var temp__4090__auto____$1 = cljs.core.last.call(null,new cljs.core.Keyword(null,"tabsets","tabsets",3756175576).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));if(cljs.core.truth_(temp__4090__auto____$1))
{var n = temp__4090__auto____$1;return lt.object.raise.call(null,n,new cljs.core.Keyword(null,"active","active",3885920888));
} else
{return null;
}
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabset.close","tabset.close",2327781609),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabset: Remove active tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (ts){return lt.objs.tabs.rem_tabset.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575)));
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabset.new","tabset.new",1444331601),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tabset: Add a tabset",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var ts = lt.objs.tabs.spawn_tabset.call(null);lt.objs.tabs.equalize_tabset_widths.call(null);
return ts;
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"tabs.focus-active","tabs.focus-active",2001074557),new cljs.core.Keyword(null,"desc","desc",1016984067),"Tab: focus active",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = new cljs.core.Keyword(null,"active-obj","active-obj",3056705826).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"tabset","tabset",4427500575))));if(cljs.core.truth_(temp__4092__auto__))
{var active = temp__4092__auto__;return lt.object.raise.call(null,active,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return null;
}
})], null));
lt.util.dom.append.call(null,lt.object.__GT_content.call(null,lt.objs.canvas.canvas),new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.tabs.multi)));

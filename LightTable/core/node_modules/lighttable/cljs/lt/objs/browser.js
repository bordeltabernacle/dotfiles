// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.browser');
goog.require('cljs.core');
goog.require('crate.binding');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.platform');
goog.require('lt.objs.tabs');
goog.require('crate.core');
goog.require('lt.objs.context');
goog.require('lt.objs.notifos');
goog.require('lt.objs.notifos');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('clojure.string');
goog.require('lt.objs.clients.devtools');
goog.require('lt.objs.command');
goog.require('lt.objs.platform');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.objs.sidebar.clients');
goog.require('lt.objs.eval');
goog.require('lt.objs.clients');
goog.require('clojure.string');
goog.require('lt.objs.clients.devtools');
goog.require('crate.binding');
goog.require('lt.objs.keyboard');
goog.require('lt.objs.editor');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.console');
goog.require('lt.objs.tabs');
goog.require('lt.objs.editor');
goog.require('lt.objs.console');
goog.require('crate.core');
goog.require('lt.objs.eval');
goog.require('lt.objs.clients');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.clients');
goog.require('lt.objs.command');
goog.require('lt.objs.keyboard');
lt.objs.browser.utils = (function (){var obj6929 = {};return obj6929;
})();
lttools = lt.objs.browser.utils;
lt.objs.browser.no_history_sites = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, ["data:text/html,chromewebdata",null], null), null);
lt.objs.browser.check_http = (function check_http(url){if((cljs.core._EQ_.call(null,url.indexOf("http"),-1)) && (cljs.core._EQ_.call(null,url.indexOf("file://"),-1)))
{return [cljs.core.str("http://"),cljs.core.str(url)].join('');
} else
{return url;
}
});
lt.objs.browser.add_util = (function add_util(nme,fn){return (lt.objs.browser.utils[cljs.core.name.call(null,nme)] = fn);
});
lt.objs.browser.browser_id = (function browser_id(this$){return [cljs.core.str("browser"),cljs.core.str(lt.object.__GT_id.call(null,this$))].join('');
});
lt.objs.browser.to_frame = (function to_frame(this$){var id = ((typeof this$ === 'string')?this$:lt.objs.browser.browser_id.call(null,this$));return (window.frames[id]);
});
lt.objs.browser.handle_cb = (function handle_cb(cbid,command,data){return lt.object.raise.call(null,lt.objs.clients.clients,new cljs.core.Keyword(null,"message","message",1968829305),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cbid,command,data], null));
});
lt.objs.browser.connect_client = (function connect_client(this$){return lt.objs.clients.handle_connection_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1017277949),new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"frame","frame",1111596255),this$,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733),lt.objs.browser.browser_id.call(null,this$),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"frame.client","frame.client",2018369246)], null),new cljs.core.Keyword(null,"commands","commands",4706336250),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"editor.eval.cljs.exec","editor.eval.cljs.exec",866638030),null,new cljs.core.Keyword(null,"editor.eval.css","editor.eval.css",1083014276),null,new cljs.core.Keyword(null,"editor.eval.js","editor.eval.js",1847417804),null,new cljs.core.Keyword(null,"editor.eval.html","editor.eval.html",3156465134),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"frame","frame",1111596255)], null));
});
lt.objs.browser.add = (function add(){var browser = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.browser","browser","lt.objs.browser/browser",1401265285));lt.objs.tabs.add_BANG_.call(null,browser);
lt.objs.tabs.active_BANG_.call(null,browser);
return browser;
});
lt.objs.browser.url_bar = (function url_bar(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.url-bar","input.url-bar",4150417411),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"url",new cljs.core.Keyword(null,"value","value",1125876963),crate.binding.bound.call(null,this$,new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084))], null)], null));var seq__6936_6942 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289),this$);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289));
})], null)));var chunk__6937_6943 = null;var count__6938_6944 = 0;var i__6939_6945 = 0;while(true){
if((i__6939_6945 < count__6938_6944))
{var vec__6940_6946 = cljs.core._nth.call(null,chunk__6937_6943,i__6939_6945);var ev__4336__auto___6947 = cljs.core.nth.call(null,vec__6940_6946,0,null);var func__4337__auto___6948 = cljs.core.nth.call(null,vec__6940_6946,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6947,func__4337__auto___6948);
{
var G__6949 = seq__6936_6942;
var G__6950 = chunk__6937_6943;
var G__6951 = count__6938_6944;
var G__6952 = (i__6939_6945 + 1);
seq__6936_6942 = G__6949;
chunk__6937_6943 = G__6950;
count__6938_6944 = G__6951;
i__6939_6945 = G__6952;
continue;
}
} else
{var temp__4092__auto___6953 = cljs.core.seq.call(null,seq__6936_6942);if(temp__4092__auto___6953)
{var seq__6936_6954__$1 = temp__4092__auto___6953;if(cljs.core.chunked_seq_QMARK_.call(null,seq__6936_6954__$1))
{var c__4150__auto___6955 = cljs.core.chunk_first.call(null,seq__6936_6954__$1);{
var G__6956 = cljs.core.chunk_rest.call(null,seq__6936_6954__$1);
var G__6957 = c__4150__auto___6955;
var G__6958 = cljs.core.count.call(null,c__4150__auto___6955);
var G__6959 = 0;
seq__6936_6942 = G__6956;
chunk__6937_6943 = G__6957;
count__6938_6944 = G__6958;
i__6939_6945 = G__6959;
continue;
}
} else
{var vec__6941_6960 = cljs.core.first.call(null,seq__6936_6954__$1);var ev__4336__auto___6961 = cljs.core.nth.call(null,vec__6941_6960,0,null);var func__4337__auto___6962 = cljs.core.nth.call(null,vec__6941_6960,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6961,func__4337__auto___6962);
{
var G__6963 = cljs.core.next.call(null,seq__6936_6954__$1);
var G__6964 = null;
var G__6965 = 0;
var G__6966 = 0;
seq__6936_6942 = G__6963;
chunk__6937_6943 = G__6964;
count__6938_6944 = G__6965;
i__6939_6945 = G__6966;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.backward = (function backward(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),"<"], null),"<"], null));var seq__6973_6979 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"back!","back!",1107397516));
})], null)));var chunk__6974_6980 = null;var count__6975_6981 = 0;var i__6976_6982 = 0;while(true){
if((i__6976_6982 < count__6975_6981))
{var vec__6977_6983 = cljs.core._nth.call(null,chunk__6974_6980,i__6976_6982);var ev__4336__auto___6984 = cljs.core.nth.call(null,vec__6977_6983,0,null);var func__4337__auto___6985 = cljs.core.nth.call(null,vec__6977_6983,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6984,func__4337__auto___6985);
{
var G__6986 = seq__6973_6979;
var G__6987 = chunk__6974_6980;
var G__6988 = count__6975_6981;
var G__6989 = (i__6976_6982 + 1);
seq__6973_6979 = G__6986;
chunk__6974_6980 = G__6987;
count__6975_6981 = G__6988;
i__6976_6982 = G__6989;
continue;
}
} else
{var temp__4092__auto___6990 = cljs.core.seq.call(null,seq__6973_6979);if(temp__4092__auto___6990)
{var seq__6973_6991__$1 = temp__4092__auto___6990;if(cljs.core.chunked_seq_QMARK_.call(null,seq__6973_6991__$1))
{var c__4150__auto___6992 = cljs.core.chunk_first.call(null,seq__6973_6991__$1);{
var G__6993 = cljs.core.chunk_rest.call(null,seq__6973_6991__$1);
var G__6994 = c__4150__auto___6992;
var G__6995 = cljs.core.count.call(null,c__4150__auto___6992);
var G__6996 = 0;
seq__6973_6979 = G__6993;
chunk__6974_6980 = G__6994;
count__6975_6981 = G__6995;
i__6976_6982 = G__6996;
continue;
}
} else
{var vec__6978_6997 = cljs.core.first.call(null,seq__6973_6991__$1);var ev__4336__auto___6998 = cljs.core.nth.call(null,vec__6978_6997,0,null);var func__4337__auto___6999 = cljs.core.nth.call(null,vec__6978_6997,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___6998,func__4337__auto___6999);
{
var G__7000 = cljs.core.next.call(null,seq__6973_6991__$1);
var G__7001 = null;
var G__7002 = 0;
var G__7003 = 0;
seq__6973_6979 = G__7000;
chunk__6974_6980 = G__7001;
count__6975_6981 = G__7002;
i__6976_6982 = G__7003;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.forward = (function forward(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),">"], null),">"], null));var seq__7010_7016 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"forward!","forward!",1497217390));
})], null)));var chunk__7011_7017 = null;var count__7012_7018 = 0;var i__7013_7019 = 0;while(true){
if((i__7013_7019 < count__7012_7018))
{var vec__7014_7020 = cljs.core._nth.call(null,chunk__7011_7017,i__7013_7019);var ev__4336__auto___7021 = cljs.core.nth.call(null,vec__7014_7020,0,null);var func__4337__auto___7022 = cljs.core.nth.call(null,vec__7014_7020,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7021,func__4337__auto___7022);
{
var G__7023 = seq__7010_7016;
var G__7024 = chunk__7011_7017;
var G__7025 = count__7012_7018;
var G__7026 = (i__7013_7019 + 1);
seq__7010_7016 = G__7023;
chunk__7011_7017 = G__7024;
count__7012_7018 = G__7025;
i__7013_7019 = G__7026;
continue;
}
} else
{var temp__4092__auto___7027 = cljs.core.seq.call(null,seq__7010_7016);if(temp__4092__auto___7027)
{var seq__7010_7028__$1 = temp__4092__auto___7027;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7010_7028__$1))
{var c__4150__auto___7029 = cljs.core.chunk_first.call(null,seq__7010_7028__$1);{
var G__7030 = cljs.core.chunk_rest.call(null,seq__7010_7028__$1);
var G__7031 = c__4150__auto___7029;
var G__7032 = cljs.core.count.call(null,c__4150__auto___7029);
var G__7033 = 0;
seq__7010_7016 = G__7030;
chunk__7011_7017 = G__7031;
count__7012_7018 = G__7032;
i__7013_7019 = G__7033;
continue;
}
} else
{var vec__7015_7034 = cljs.core.first.call(null,seq__7010_7028__$1);var ev__4336__auto___7035 = cljs.core.nth.call(null,vec__7015_7034,0,null);var func__4337__auto___7036 = cljs.core.nth.call(null,vec__7015_7034,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7035,func__4337__auto___7036);
{
var G__7037 = cljs.core.next.call(null,seq__7010_7028__$1);
var G__7038 = null;
var G__7039 = 0;
var G__7040 = 0;
seq__7010_7016 = G__7037;
chunk__7011_7017 = G__7038;
count__7012_7018 = G__7039;
i__7013_7019 = G__7040;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.refresh = (function refresh(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),"re"], null),"\u21BA"], null));var seq__7047_7053 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
})], null)));var chunk__7048_7054 = null;var count__7049_7055 = 0;var i__7050_7056 = 0;while(true){
if((i__7050_7056 < count__7049_7055))
{var vec__7051_7057 = cljs.core._nth.call(null,chunk__7048_7054,i__7050_7056);var ev__4336__auto___7058 = cljs.core.nth.call(null,vec__7051_7057,0,null);var func__4337__auto___7059 = cljs.core.nth.call(null,vec__7051_7057,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7058,func__4337__auto___7059);
{
var G__7060 = seq__7047_7053;
var G__7061 = chunk__7048_7054;
var G__7062 = count__7049_7055;
var G__7063 = (i__7050_7056 + 1);
seq__7047_7053 = G__7060;
chunk__7048_7054 = G__7061;
count__7049_7055 = G__7062;
i__7050_7056 = G__7063;
continue;
}
} else
{var temp__4092__auto___7064 = cljs.core.seq.call(null,seq__7047_7053);if(temp__4092__auto___7064)
{var seq__7047_7065__$1 = temp__4092__auto___7064;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7047_7065__$1))
{var c__4150__auto___7066 = cljs.core.chunk_first.call(null,seq__7047_7065__$1);{
var G__7067 = cljs.core.chunk_rest.call(null,seq__7047_7065__$1);
var G__7068 = c__4150__auto___7066;
var G__7069 = cljs.core.count.call(null,c__4150__auto___7066);
var G__7070 = 0;
seq__7047_7053 = G__7067;
chunk__7048_7054 = G__7068;
count__7049_7055 = G__7069;
i__7050_7056 = G__7070;
continue;
}
} else
{var vec__7052_7071 = cljs.core.first.call(null,seq__7047_7065__$1);var ev__4336__auto___7072 = cljs.core.nth.call(null,vec__7052_7071,0,null);var func__4337__auto___7073 = cljs.core.nth.call(null,vec__7052_7071,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7072,func__4337__auto___7073);
{
var G__7074 = cljs.core.next.call(null,seq__7047_7065__$1);
var G__7075 = null;
var G__7076 = 0;
var G__7077 = 0;
seq__7047_7053 = G__7074;
chunk__7048_7054 = G__7075;
count__7049_7055 = G__7076;
i__7050_7056 = G__7077;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.browser.iframe = (function iframe(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"iframe","iframe",4117657110),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"src","src",1014018390),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"url","url",1014020321))),new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.browser.browser_id.call(null,this$),new cljs.core.Keyword(null,"nwfaketop","nwfaketop",4208439145),"true",new cljs.core.Keyword(null,"nwdisable","nwdisable",2669716593),"true"], null)], null));var seq__7084_7090 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__7085_7091 = null;var count__7086_7092 = 0;var i__7087_7093 = 0;while(true){
if((i__7087_7093 < count__7086_7092))
{var vec__7088_7094 = cljs.core._nth.call(null,chunk__7085_7091,i__7087_7093);var ev__4336__auto___7095 = cljs.core.nth.call(null,vec__7088_7094,0,null);var func__4337__auto___7096 = cljs.core.nth.call(null,vec__7088_7094,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7095,func__4337__auto___7096);
{
var G__7097 = seq__7084_7090;
var G__7098 = chunk__7085_7091;
var G__7099 = count__7086_7092;
var G__7100 = (i__7087_7093 + 1);
seq__7084_7090 = G__7097;
chunk__7085_7091 = G__7098;
count__7086_7092 = G__7099;
i__7087_7093 = G__7100;
continue;
}
} else
{var temp__4092__auto___7101 = cljs.core.seq.call(null,seq__7084_7090);if(temp__4092__auto___7101)
{var seq__7084_7102__$1 = temp__4092__auto___7101;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7084_7102__$1))
{var c__4150__auto___7103 = cljs.core.chunk_first.call(null,seq__7084_7102__$1);{
var G__7104 = cljs.core.chunk_rest.call(null,seq__7084_7102__$1);
var G__7105 = c__4150__auto___7103;
var G__7106 = cljs.core.count.call(null,c__4150__auto___7103);
var G__7107 = 0;
seq__7084_7090 = G__7104;
chunk__7085_7091 = G__7105;
count__7086_7092 = G__7106;
i__7087_7093 = G__7107;
continue;
}
} else
{var vec__7089_7108 = cljs.core.first.call(null,seq__7084_7102__$1);var ev__4336__auto___7109 = cljs.core.nth.call(null,vec__7089_7108,0,null);var func__4337__auto___7110 = cljs.core.nth.call(null,vec__7089_7108,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7109,func__4337__auto___7110);
{
var G__7111 = cljs.core.next.call(null,seq__7084_7102__$1);
var G__7112 = null;
var G__7113 = 0;
var G__7114 = 0;
seq__7084_7090 = G__7111;
chunk__7085_7091 = G__7112;
count__7086_7092 = G__7113;
i__7087_7093 = G__7114;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","browser","lt.objs.browser/browser",1401265285),new cljs.core.Keyword(null,"name","name",1017277949),"browser",new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"browser","browser",1164844698),null], null), null),new cljs.core.Keyword(null,"history","history",1940838406),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"history-pos","history-pos",1364759821),-1,new cljs.core.Keyword(null,"url","url",1014020321),"about:blank",new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084),"about:blank",new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client","client",3951159101),lt.objs.browser.connect_client.call(null,this$)], null));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#browser","div#browser",741844136),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.frame-shade","div.frame-shade",4348666722)], null),lt.objs.browser.iframe.call(null,this$),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nav","nav",1014013077),lt.objs.browser.backward.call(null,this$),lt.objs.browser.forward.call(null,this$),lt.objs.browser.url_bar.call(null,this$),lt.objs.browser.refresh.call(null,this$)], null)], null);
}));
lt.objs.browser.__BEH__destroy_on_close = (function __BEH__destroy_on_close(this$){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
return lt.object.destroy_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","destroy-on-close","lt.objs.browser/destroy-on-close",2232797874),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__destroy_on_close,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"close","close",1108660586),null], null), null));
lt.objs.browser.__BEH__rem_client = (function __BEH__rem_client(this$){if(cljs.core._EQ_.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959)),this$))
{lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));
} else
{}
var temp__4092__auto___7115 = cljs.core.first.call(null,cljs.core.remove.call(null,cljs.core.PersistentHashSet.fromArray([this$], true),lt.object.by_tag.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698))));if(cljs.core.truth_(temp__4092__auto___7115))
{var b_7116 = temp__4092__auto___7115;lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959),b_7116);
} else
{}
return lt.objs.clients.rem_BANG_.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","rem-client","lt.objs.browser/rem-client",3433438675),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__rem_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",2571277164),null], null), null));
lt.objs.browser.__BEH__navigate_BANG_ = (function __BEH__navigate_BANG_(this$,n){var bar = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));var frame = lt.objs.browser.to_frame.call(null,this$);var url = lt.objs.browser.check_http.call(null,(function (){var or__3408__auto__ = n;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return lt.util.dom.val.call(null,bar);
}
})());lt.objs.notifos.working.call(null);
return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"url","url",1014020321),url,new cljs.core.Keyword(null,"urlvalue","urlvalue",4359376084),url,new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941),(new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941).cljs$core$IFn$_invoke$arity$2(cljs.core.deref.call(null,this$),0) + 1)], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","navigate!","lt.objs.browser/navigate!",803576413),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__navigate_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),null], null), null));
lt.objs.browser.__BEH__store_history = (function __BEH__store_history(this$,loc){if((cljs.core.not.call(null,lt.objs.browser.no_history_sites.call(null,loc))) && (cljs.core.not_EQ_.call(null,loc,cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))))
{if(!(cljs.core._EQ_.call(null,(cljs.core.count.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) - 1),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"history","history",1940838406),cljs.core.conj.call(null,cljs.core.subvec.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),0,(new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) + 1)),loc)], null));
} else
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history","history",1940838406)], null),cljs.core.conj,loc);
}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.inc);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","store-history","lt.objs.browser/store-history",2022676741),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__store_history,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate","navigate",3116398819),null], null), null));
lt.objs.browser.__BEH__url_focus_BANG_ = (function __BEH__url_focus_BANG_(this$){var url_input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,url_input);
return url_input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","url-focus!","lt.objs.browser/url-focus!",3402432972),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__url_focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"url.focus!","url.focus!",4046450458),null], null), null));
lt.objs.browser.__BEH__focus_BANG_ = (function __BEH__focus_BANG_(this$){return lt.util.dom.focus.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"iframe","iframe",4117657110),lt.object.__GT_content.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","focus!","lt.objs.browser/focus!",3058401254),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.browser.__BEH__back_BANG_ = (function __BEH__back_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);if((new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) > 0))
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.dec);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","back!","lt.objs.browser/back!",1427460503),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__back_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"back!","back!",1107397516),null], null), null));
lt.objs.browser.__BEH__forward_BANG_ = (function __BEH__forward_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);if((new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)) < (cljs.core.count.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))) - 1)))
{lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"history-pos","history-pos",1364759821)], null),cljs.core.inc);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),cljs.core.get.call(null,new cljs.core.Keyword(null,"history","history",1940838406).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"history-pos","history-pos",1364759821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","forward!","lt.objs.browser/forward!",533790641),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__forward_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"forward!","forward!",1497217390),null], null), null));
lt.objs.browser.__BEH__refresh_BANG_ = (function __BEH__refresh_BANG_(this$){var frame = lt.objs.browser.to_frame.call(null,this$);return frame.location.reload();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","refresh!","lt.objs.browser/refresh!",1696987659),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__refresh_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"refresh!","refresh!",4597922840),null], null), null));
lt.objs.browser.__BEH__menu_BANG_ = (function __BEH__menu_BANG_(this$,e){var items_7117 = cljs.core.sort_by.call(null,new cljs.core.Keyword(null,"order","order",1119910592),lt.object.raise_reduce.call(null,this$,new cljs.core.Keyword(null,"menu+","menu+",1117686302),cljs.core.PersistentVector.EMPTY));lt.objs.menu.show_menu.call(null,lt.objs.menu.menu.call(null,items_7117),e.clientX,e.clientY);
lt.util.dom.prevent.call(null,e);
return lt.util.dom.stop_propagation.call(null,e);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","menu!","lt.objs.browser/menu!",1421234191),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__menu_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu!","menu!",1117686292),null], null), null));
lt.objs.browser.__BEH__menu_PLUS_ = (function __BEH__menu_PLUS_(this$,menu){return cljs.core.conj.call(null,menu,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"forward",new cljs.core.Keyword(null,"order","order",1119910592),0,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"browser.forward","browser.forward",4326300017));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"back",new cljs.core.Keyword(null,"order","order",1119910592),1,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"browser.back","browser.back",2720710495));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"separator",new cljs.core.Keyword(null,"order","order",1119910592),2], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"copy",new cljs.core.Keyword(null,"order","order",1119910592),3,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.browser.to_frame.call(null,this$).document.execCommand("copy");
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"paste",new cljs.core.Keyword(null,"order","order",1119910592),4,new cljs.core.Keyword(null,"click","click",1108654330),(function (e){return lt.objs.browser.to_frame.call(null,this$).document.execCommand("paste");
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","menu+","lt.objs.browser/menu+",1421234177),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.browser.__BEH__window_load_click_handler = (function __BEH__window_load_click_handler(this$,window,loc){window.document.addEventListener("blur",(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"inactive","inactive",1038569437),e);
}));
window.document.addEventListener("contextmenu",(function (e){if(cljs.core.truth_(e.defaultPrevented))
{return null;
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}
}));
return window.document.addEventListener("click",(function (e){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"active","active",3885920888));
if(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,e.target.nodeName,"A");if(and__3396__auto__)
{var or__3408__auto__ = (function (){var and__3396__auto____$1 = lt.objs.platform.mac_QMARK_.call(null);if(and__3396__auto____$1)
{return e.metaKey;
} else
{return and__3396__auto____$1;
}
})();if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return e.ctrlKey;
}
} else
{return and__3396__auto__;
}
})()))
{e.preventDefault();
e.stopPropagation();
return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910),e.target.href);
} else
{return null;
}
}));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-click-handler","lt.objs.browser/window-load-click-handler",755814872),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_click_handler,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__window_load_key_handler = (function __BEH__window_load_key_handler(this$,window,loc){var script = window.document.createElement("script");script.type = "text/javascript";
script.innerHTML = new cljs.core.Keyword(null,"content","content",1965434859).cljs$core$IFn$_invoke$arity$1(lt.objs.files.open_sync.call(null,"core/node_modules/lighttable/util/keyevents.js"));
window.document.head.appendChild(script);
return ((window["Mousetrap"])["handleKey"] = (function (key,char$,e){if(cljs.core.truth_(lt.objs.keyboard.capture.call(null,key,char$,e)))
{lt.util.dom.prevent.call(null,e);
return lt.util.dom.stop_propagation.call(null,e);
} else
{return null;
}
}));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-key-handler","lt.objs.browser/window-load-key-handler",2857339135),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_key_handler,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__window_load_lttools = (function __BEH__window_load_lttools(this$,window,loc){return window.lttools = lt.objs.browser.utils;
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","window-load-lttools","lt.objs.browser/window-load-lttools",3501278086),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__window_load_lttools,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),null], null), null));
lt.objs.browser.__BEH__init_BANG_ = (function __BEH__init_BANG_(this$){var frame = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"iframe","iframe",4117657110),lt.object.__GT_content.call(null,this$));var bar = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));return frame.onload = (function (){var loc = frame.contentWindow.location.href;lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"window.loaded","window.loaded",2104794933),frame.contentWindow,loc);
frame.contentWindow.onhashchange = (function (){return lt.util.dom.val.call(null,bar,frame.contentWindow.location.href);
});
lt.objs.clients.devtools.clear_scripts_BANG_.call(null);
lt.util.dom.val.call(null,bar,loc);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"navigate","navigate",3116398819),loc);
});
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","init!","lt.objs.browser/init!",1417774750),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__init_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.browser.__BEH__set_client_name = (function __BEH__set_client_name(this$,loc){var title = lt.objs.browser.to_frame.call(null,this$).document.title;var title__$1 = ((!(cljs.core.empty_QMARK_.call(null,title)))?title:"browser");lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"name","name",1017277949),title__$1], null));
lt.objs.tabs.refresh_BANG_.call(null,this$);
var n__4250__auto___7118 = new cljs.core.Keyword(null,"loading-counter","loading-counter",2714046941).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var x_7119 = 0;while(true){
if((x_7119 < n__4250__auto___7118))
{lt.objs.notifos.done_working.call(null);
{
var G__7120 = (x_7119 + 1);
x_7119 = G__7120;
continue;
}
} else
{}
break;
}
return lt.object.merge_BANG_.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"name","name",1017277949),loc], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","set-client-name","lt.objs.browser/set-client-name",1645431759),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__set_client_name,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"navigate","navigate",3116398819),null], null), null));
lt.objs.browser.__BEH__set_active = (function __BEH__set_active(this$){return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959),this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","set-active","lt.objs.browser/set-active",4650437726),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__set_active,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"active","active",3885920888),null,new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__active_context = (function __BEH__active_context(this$){return lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698),this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","active-context","lt.objs.browser/active-context",1990046533),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__active_context,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"active","active",3885920888),null,new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__focus_on_show = (function __BEH__focus_on_show(this$){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","focus-on-show","lt.objs.browser/focus-on-show",650060667),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__focus_on_show,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show","show",1017433711),null], null), null));
lt.objs.browser.__BEH__inactive_context = (function __BEH__inactive_context(this$){return lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","inactive-context","lt.objs.browser/inactive-context",1464142818),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__inactive_context,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"inactive","inactive",1038569437),null], null), null));
lt.objs.browser.__BEH__handle_send_BANG_ = (function __BEH__handle_send_BANG_(this$,msg){return lt.object.raise.call(null,this$,cljs.core.keyword.call(null,[cljs.core.str(new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(msg)),cljs.core.str("!")].join('')),msg);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-send!","lt.objs.browser/handle-send!",4165361401),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_send_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"send!","send!",1123226891),null], null), null));
lt.objs.browser.__BEH__handle_refresh_BANG_ = (function __BEH__handle_refresh_BANG_(this$){return lt.object.raise.call(null,new cljs.core.Keyword(null,"frame","frame",1111596255).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-refresh!","lt.objs.browser/handle-refresh!",2985065480),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_refresh_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client.refresh!","client.refresh!",1210437339),null], null), null));
lt.objs.browser.__BEH__handle_close_BANG_ = (function __BEH__handle_close_BANG_(this$){lt.object.raise.call(null,new cljs.core.Keyword(null,"frame","frame",1111596255).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"close","close",1108660586));
return lt.objs.clients.rem_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","handle-close!","lt.objs.browser/handle-close!",2176426435),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__handle_close_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"client.close!","client.close!",582466590),null], null), null));
lt.objs.browser.__BEH__change_live = (function __BEH__change_live(this$,msg){var temp__4092__auto__ = lt.objs.clients.cb__GT_obj.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;if(cljs.core.truth_(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))))
{return lt.objs.clients.devtools.changelive_BANG_.call(null,ed,new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)),lt.plugins.watches.watched_range(ed,null,null,lt.objs.langs.js.src__GT_watch),(function (res){return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"editor.eval.js.change-live.success","editor.eval.js.change-live.success",2994410460));
}),cljs.core.identity);
} else
{return null;
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","change-live","lt.objs.browser/change-live",2720093766),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__change_live,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js.change-live!","editor.eval.js.change-live!",3424692446),null], null), null));
lt.objs.browser.__BEH__js_eval_file = (function __BEH__js_eval_file(this$,msg,cb){var temp__4092__auto__ = lt.objs.clients.cb__GT_obj.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var data = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var data__$1 = cljs.core.assoc.call(null,data,new cljs.core.Keyword(null,"code","code",1016963423),[cljs.core.str(new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(data)),cljs.core.str("\n\n//# sourceURL="),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(data))].join(''));return lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data__$1,(function (res){if(cljs.core.truth_(cb))
{cb.call(null);
} else
{}
return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"editor.eval.js.file.success","editor.eval.js.file.success",4272529943));
}));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","js-eval-file","lt.objs.browser/js-eval-file",817287718),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__js_eval_file,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js.file!","editor.eval.js.file!",1760417539),null], null), null));
lt.objs.browser.__BEH__html_eval = (function __BEH__html_eval(this$,msg){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"client.refresh!","client.refresh!",1210437339));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","html-eval","lt.objs.browser/html-eval",3721717555),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__html_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.html!","editor.eval.html!",3008782487),null], null), null));
lt.objs.browser.__BEH__css_eval = (function __BEH__css_eval(this$,msg){var info = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var frame = lt.objs.browser.to_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var node_name = clojure.string.replace.call(null,new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(info),/\./,"-");var node = frame.document.querySelector([cljs.core.str("#"),cljs.core.str(node_name)].join(''));var neue = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"style","style",1123684643),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text/css",new cljs.core.Keyword(null,"id","id",1013907597),node_name], null),new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(info)], null));if(cljs.core.truth_(node))
{lt.util.dom.remove.call(null,node);
return lt.util.dom.append.call(null,frame.document.head,neue);
} else
{var links = frame.document.querySelectorAll("link");var node__$1 = cljs.core.first.call(null,cljs.core.filter.call(null,((function (links){
return (function (p1__7121_SHARP_){return (lt.util.dom.attr.call(null,p1__7121_SHARP_,new cljs.core.Keyword(null,"href","href",1017115293)).indexOf(new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(info)) > -1);
});})(links))
,lt.util.dom.lazy_nl_via_item.call(null,links)));if(cljs.core.truth_(node__$1))
{lt.util.dom.remove.call(null,node__$1);
} else
{}
return lt.util.dom.append.call(null,frame.document.head,neue);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","css-eval","lt.objs.browser/css-eval",2220805003),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__css_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.css!","editor.eval.css!",3156315329),null], null), null));
lt.objs.browser.__BEH__cljs_exec = (function __BEH__cljs_exec(this$,msg){var frame_id = new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var frame = lt.objs.browser.to_frame.call(null,frame_id);var window = lt.objs.clients.devtools.get_frame_window.call(null,frame_id);var info = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var seq__7128 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"results","results",2111450984).cljs$core$IFn$_invoke$arity$1(info));var chunk__7129 = null;var count__7130 = 0;var i__7131 = 0;while(true){
if((i__7131 < count__7130))
{var form = cljs.core._nth.call(null,chunk__7129,i__7131);try{lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.result","editor.eval.cljs.result",1580065178),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"result","result",4374444943),cljs.core.pr_str.call(null,window.eval.call(window,clojure.string.replace.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(form),")goog",")\ngoog"))),new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}catch (e7132){var e_7134 = e7132;lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.exception","editor.eval.cljs.exception",4479049174),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ex","ex",1013907493),e_7134,new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}{
var G__7135 = seq__7128;
var G__7136 = chunk__7129;
var G__7137 = count__7130;
var G__7138 = (i__7131 + 1);
seq__7128 = G__7135;
chunk__7129 = G__7136;
count__7130 = G__7137;
i__7131 = G__7138;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__7128);if(temp__4092__auto__)
{var seq__7128__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7128__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__7128__$1);{
var G__7139 = cljs.core.chunk_rest.call(null,seq__7128__$1);
var G__7140 = c__4150__auto__;
var G__7141 = cljs.core.count.call(null,c__4150__auto__);
var G__7142 = 0;
seq__7128 = G__7139;
chunk__7129 = G__7140;
count__7130 = G__7141;
i__7131 = G__7142;
continue;
}
} else
{var form = cljs.core.first.call(null,seq__7128__$1);try{lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.result","editor.eval.cljs.result",1580065178),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"result","result",4374444943),cljs.core.pr_str.call(null,window.eval.call(window,clojure.string.replace.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(form),")goog",")\ngoog"))),new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}catch (e7133){var e_7143 = e7133;lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.cljs.exception","editor.eval.cljs.exception",4479049174),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ex","ex",1013907493),e_7143,new cljs.core.Keyword(null,"meta","meta",1017252215),cljs.core.merge.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(form))], null));
}{
var G__7144 = cljs.core.next.call(null,seq__7128__$1);
var G__7145 = null;
var G__7146 = 0;
var G__7147 = 0;
seq__7128 = G__7144;
chunk__7129 = G__7145;
count__7130 = G__7146;
i__7131 = G__7147;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","cljs-exec","lt.objs.browser/cljs-exec",1664374689),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__cljs_exec,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.cljs.exec!","editor.eval.cljs.exec!",743618999),null], null), null));
lt.objs.browser.eval_js_form = (function eval_js_form(this$,msg){var data = cljs.core.assoc.call(null,new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"code","code",1016963423),lt.objs.eval.append_source_file.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)),new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))));lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data,(function (res){var result = lt.objs.clients.devtools.inspector__GT_result.call(null,res);var req = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var result__$1 = cljs.core.assoc.call(null,result,new cljs.core.Keyword(null,"meta","meta",1017252215),new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(req),new cljs.core.Keyword(null,"no-inspect","no-inspect",887813498),true);if(cljs.core.not.call(null,new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(result__$1)))
{return lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.js.result","editor.eval.js.result",3021062051),result__$1);
} else
{return lt.objs.browser.handle_cb.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"editor.eval.js.exception","editor.eval.js.exception",723801901),result__$1);
}
}));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"editor.eval.js.change-live!","editor.eval.js.change-live!",3424692446),msg);
});
lt.objs.browser.must_eval_file_QMARK_ = (function must_eval_file_QMARK_(msg){if(cljs.core.truth_(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg))))
{return (cljs.core.not.call(null,new cljs.core.Keyword(null,"meta","meta",1017252215).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)))) || (cljs.core.not.call(null,lt.objs.clients.devtools.find_script.call(null,lt.objs.clients.devtools.local,new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg)))));
} else
{return null;
}
});
lt.objs.browser.__BEH__js_eval = (function __BEH__js_eval(this$,msg){if(cljs.core.truth_(lt.objs.browser.must_eval_file_QMARK_.call(null,msg)))
{var temp__4092__auto__ = lt.object.by_id.call(null,new cljs.core.Keyword(null,"cb","cb",1013907409).cljs$core$IFn$_invoke$arity$1(msg));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var data = new cljs.core.Keyword(null,"data","data",1016980252).cljs$core$IFn$_invoke$arity$1(msg);var data__$1 = cljs.core.assoc.call(null,data,new cljs.core.Keyword(null,"code","code",1016963423),[cljs.core.str(lt.objs.editor.__GT_val.call(null,ed)),cljs.core.str("\n\n//# sourceURL="),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(data))].join(''));return lt.objs.clients.devtools.eval_in_frame.call(null,new cljs.core.Keyword(null,"frame-id","frame-id",3663850733).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),data__$1,(function (res){return lt.objs.browser.eval_js_form.call(null,this$,msg);
}));
} else
{return null;
}
} else
{return lt.objs.browser.eval_js_form.call(null,this$,msg);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.browser","js-eval","lt.objs.browser/js-eval",3158449165),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.browser.__BEH__js_eval,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.eval.js!","editor.eval.js!",1083020921),null], null), null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.url-bar.navigate!","browser.url-bar.navigate!",1014303491),new cljs.core.Keyword(null,"desc","desc",1016984067),"BrowserUrlBar: navigate to location",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser.url-bar","browser.url-bar",537128289));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),loc);
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.url-bar.focus","browser.url-bar.focus",3353788299),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: focus url",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"url.focus!","url.focus!",4046450458));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.focus-content","browser.focus-content",1148241840),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: focus content",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.back","browser.back",2720710495),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: back",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"back!","back!",1107397516));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"browser.forward","browser.forward",4326300017),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: forward",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"browser","browser",1164844698));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"forward!","forward!",1497217390));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: add browser tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (loc){var b = lt.objs.browser.add.call(null);if(cljs.core.not.call(null,loc))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
} else
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),loc);
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"refresh-connected-browser","refresh-connected-browser",3935980900),new cljs.core.Keyword(null,"desc","desc",1016984067),"Browser: refresh active browser tab",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));if(cljs.core.truth_(temp__4092__auto__))
{var b = temp__4092__auto__;if(cljs.core.truth_(cljs.core.deref.call(null,b)))
{return lt.object.raise.call(null,b,new cljs.core.Keyword(null,"refresh!","refresh!",4597922840));
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"editor.open-current-file-in-browser","editor.open-current-file-in-browser",1439718637),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Open current file in browser",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var b = lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959));var ed = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_((function (){var and__3396__auto__ = ed;if(cljs.core.truth_(and__3396__auto__))
{return new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));
} else
{return and__3396__auto__;
}
})()))
{if(cljs.core.truth_(b))
{} else
{lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910));
}
return lt.object.raise.call(null,lt.objs.context.__GT_obj.call(null,new cljs.core.Keyword(null,"global.browser","global.browser",3786202959)),new cljs.core.Keyword(null,"navigate!","navigate!",1766726722),[cljs.core.str("file://"),cljs.core.str(new cljs.core.Keyword(null,"path","path",1017337751).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))))].join(''));
} else
{return null;
}
})], null));
lt.objs.sidebar.clients.add_connector.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1017277949),"Browser",new cljs.core.Keyword(null,"desc","desc",1016984067),"Open a browser tab to eval JavaScript, CSS, and HTML live.",new cljs.core.Keyword(null,"connect","connect",1965255772),(function (){return lt.objs.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"add-browser-tab","add-browser-tab",3663273910));
})], null));

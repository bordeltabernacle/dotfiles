// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.clients.devtools');
goog.require('cljs.core');
goog.require('crate.binding');
goog.require('lt.util.cljs');
goog.require('lt.util.js');
goog.require('lt.objs.app');
goog.require('lt.objs.files');
goog.require('lt.util.js');
goog.require('lt.util.dom');
goog.require('cljs.reader');
goog.require('crate.core');
goog.require('lt.util.dom');
goog.require('clojure.string');
goog.require('lt.util.cljs');
goog.require('lt.objs.files');
goog.require('lt.objs.app');
goog.require('lt.objs.clients');
goog.require('clojure.string');
goog.require('crate.binding');
goog.require('lt.object');
goog.require('cljs.reader');
goog.require('lt.object');
goog.require('lt.objs.console');
goog.require('lt.objs.console');
goog.require('crate.core');
goog.require('lt.objs.clients');
goog.require('fetch.core');
goog.require('fetch.core');
lt.objs.clients.devtools.cbs = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
lt.objs.clients.devtools.id = cljs.core.atom.call(null,0);
lt.objs.clients.devtools.devtools_url = "http://localhost:10138/json";
lt.objs.clients.devtools.next_id = (function next_id(){return cljs.core.swap_BANG_.call(null,lt.objs.clients.devtools.id,cljs.core.inc);
});
lt.objs.clients.devtools.find_debugger_url = (function find_debugger_url(info){var win = lt.objs.app.window_number.call(null);var search = ((cljs.core._EQ_.call(null,win,0))?((function (win){
return (function (p1__7326_SHARP_){return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(p1__7326_SHARP_).indexOf("id"),-1);
});})(win))
:((function (win){
return (function (p1__7327_SHARP_){return (new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(p1__7327_SHARP_).indexOf([cljs.core.str("id="),cljs.core.str(win)].join('')) > -1);
});})(win))
);return new cljs.core.Keyword(null,"webSocketDebuggerUrl","webSocketDebuggerUrl",667502233).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,cljs.core.filter.call(null,search,info)));
});
lt.objs.clients.devtools.socket = (function socket(this$,url){var sock = (new WebSocket(url));sock.onopen = (function (){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connected","connected",4729661051),true], null));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"connect","connect",1965255772));
});
sock.onmessage = (function (p1__7328_SHARP_){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"message","message",1968829305),lt.util.cljs.js__GT_clj.call(null,JSON.parse(p1__7328_SHARP_.data),new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672),true));
});
return sock;
});
lt.objs.clients.devtools.send_STAR_ = (function send_STAR_(client,m,cb){new cljs.core.Keyword(null,"socket","socket",4411822821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,client)).send(JSON.stringify(cljs.core.clj__GT_js.call(null,m)));
if(cljs.core.truth_(cb))
{return cljs.core.swap_BANG_.call(null,lt.objs.clients.devtools.cbs,cljs.core.assoc,new cljs.core.Keyword(null,"id","id",1013907597).cljs$core$IFn$_invoke$arity$1(m),cb);
} else
{return null;
}
});
/**
* @param {...*} var_args
*/
lt.objs.clients.devtools.send = (function() { 
var send__delegate = function (client,m,p__7329){var vec__7331 = p__7329;var cb = cljs.core.nth.call(null,vec__7331,0,null);if(cljs.core.truth_(new cljs.core.Keyword(null,"connected","connected",4729661051).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,client))))
{return lt.objs.clients.devtools.send_STAR_.call(null,client,m,cb);
} else
{return lt.object.update_BANG_.call(null,client,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"queue","queue",1121848451)], null),cljs.core.conj,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [client,m,cb], null));
}
};
var send = function (client,m,var_args){
var p__7329 = null;if (arguments.length > 2) {
  p__7329 = cljs.core.array_seq(Array.prototype.slice.call(arguments, 2),0);} 
return send__delegate.call(this,client,m,p__7329);};
send.cljs$lang$maxFixedArity = 2;
send.cljs$lang$applyTo = (function (arglist__7332){
var client = cljs.core.first(arglist__7332);
arglist__7332 = cljs.core.next(arglist__7332);
var m = cljs.core.first(arglist__7332);
var p__7329 = cljs.core.rest(arglist__7332);
return send__delegate(client,m,p__7329);
});
send.cljs$core$IFn$_invoke$arity$variadic = send__delegate;
return send;
})()
;
lt.objs.clients.devtools.close = (function close(client){new cljs.core.Keyword(null,"socket","socket",4411822821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,client)).close();
return lt.object.merge_BANG_.call(null,client,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"socket","socket",4411822821),null,new cljs.core.Keyword(null,"connected","connected",4729661051),null], null));
});
lt.objs.clients.devtools.format_value = (function format_value(v){var val = new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(v);if(cljs.core._EQ_.call(null,val,"undefined"))
{return "undefined";
} else
{if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(v),"string"))
{return cljs.core.pr_str.call(null,val);
} else
{if((val === true) || (val === false))
{return cljs.core.pr_str.call(null,val);
} else
{if(((val == null)) || (cljs.core.empty_QMARK_.call(null,val)))
{return "null";
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(v);
} else
{return null;
}
}
}
}
}
});
lt.objs.clients.devtools.msg__GT_log = (function msg__GT_log(m){var params = new cljs.core.Keyword(null,"parameters","parameters",1472640348).cljs$core$IFn$_invoke$arity$1(m);var iter__4119__auto__ = (function iter__7337(s__7338){return (new cljs.core.LazySeq(null,(function (){var s__7338__$1 = s__7338;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__7338__$1);if(temp__4092__auto__)
{var s__7338__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__7338__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__7338__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__7340 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__7339 = 0;while(true){
if((i__7339 < size__4118__auto__))
{var p = cljs.core._nth.call(null,c__4117__auto__,i__7339);cljs.core.chunk_append.call(null,b__7340,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.log-val","span.log-val",3645418982),(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(p),"object");if(and__3396__auto__)
{var and__3396__auto____$1 = new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(p);if(cljs.core.truth_(and__3396__auto____$1))
{return cljs.core.not.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(p)));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})())?"null":((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(p),"object"))?lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),p], null))):((new cljs.core.Keyword(null,"else","else",1017020587))?new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$2(p,new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(p)):null)))], null));
{
var G__7341 = (i__7339 + 1);
i__7339 = G__7341;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7340),iter__7337.call(null,cljs.core.chunk_rest.call(null,s__7338__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7340),null);
}
} else
{var p = cljs.core.first.call(null,s__7338__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.log-val","span.log-val",3645418982),(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(p),"object");if(and__3396__auto__)
{var and__3396__auto____$1 = new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(p);if(cljs.core.truth_(and__3396__auto____$1))
{return cljs.core.not.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(p)));
} else
{return and__3396__auto____$1;
}
} else
{return and__3396__auto__;
}
})())?"null":((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(p),"object"))?lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",1125876963),p], null))):((new cljs.core.Keyword(null,"else","else",1017020587))?new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$2(p,new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(p)):null)))], null),iter__7337.call(null,cljs.core.rest.call(null,s__7338__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,params);
});
lt.objs.clients.devtools.msg__GT_string = (function msg__GT_string(m){var params = new cljs.core.Keyword(null,"parameters","parameters",1472640348).cljs$core$IFn$_invoke$arity$1(m);return cljs.core.reduce.call(null,(function (res,p){return [cljs.core.str(res),cljs.core.str(" "),cljs.core.str(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(p))].join('');
}),"",params);
});
lt.objs.clients.devtools.error__GT_string = (function error__GT_string(e){return [cljs.core.str("ERROR: "),cljs.core.str(new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(e)),cljs.core.str(": "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(e)),cljs.core.str("\n"),cljs.core.str(cljs.core.reduce.call(null,(function (res,f){return [cljs.core.str(res),cljs.core.str("       "),cljs.core.str(lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(f))),cljs.core.str(" ["),cljs.core.str(new cljs.core.Keyword(null,"lineNumber","lineNumber",684762063).cljs$core$IFn$_invoke$arity$1(f)),cljs.core.str("]: "),cljs.core.str(((cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"functionName","functionName",802531829).cljs$core$IFn$_invoke$arity$1(f)))?"anonymous":new cljs.core.Keyword(null,"functionName","functionName",802531829).cljs$core$IFn$_invoke$arity$1(f))),cljs.core.str("\n")].join('');
}),"",new cljs.core.Keyword(null,"stackTrace","stackTrace",3040184079).cljs$core$IFn$_invoke$arity$1(e)))].join('');
});
lt.objs.clients.devtools.frame = (function frame(f){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",1013907952),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td.url","td.url",4428724323),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(f))," [",new cljs.core.Keyword(null,"lineNumber","lineNumber",684762063).cljs$core$IFn$_invoke$arity$1(f),"]"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1013907938),((cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"functionName","functionName",802531829).cljs$core$IFn$_invoke$arity$1(f)))?"anonymous":new cljs.core.Keyword(null,"functionName","functionName",802531829).cljs$core$IFn$_invoke$arity$1(f))], null)], null));var seq__7348_7354 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__7349_7355 = null;var count__7350_7356 = 0;var i__7351_7357 = 0;while(true){
if((i__7351_7357 < count__7350_7356))
{var vec__7352_7358 = cljs.core._nth.call(null,chunk__7349_7355,i__7351_7357);var ev__4336__auto___7359 = cljs.core.nth.call(null,vec__7352_7358,0,null);var func__4337__auto___7360 = cljs.core.nth.call(null,vec__7352_7358,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7359,func__4337__auto___7360);
{
var G__7361 = seq__7348_7354;
var G__7362 = chunk__7349_7355;
var G__7363 = count__7350_7356;
var G__7364 = (i__7351_7357 + 1);
seq__7348_7354 = G__7361;
chunk__7349_7355 = G__7362;
count__7350_7356 = G__7363;
i__7351_7357 = G__7364;
continue;
}
} else
{var temp__4092__auto___7365 = cljs.core.seq.call(null,seq__7348_7354);if(temp__4092__auto___7365)
{var seq__7348_7366__$1 = temp__4092__auto___7365;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7348_7366__$1))
{var c__4150__auto___7367 = cljs.core.chunk_first.call(null,seq__7348_7366__$1);{
var G__7368 = cljs.core.chunk_rest.call(null,seq__7348_7366__$1);
var G__7369 = c__4150__auto___7367;
var G__7370 = cljs.core.count.call(null,c__4150__auto___7367);
var G__7371 = 0;
seq__7348_7354 = G__7368;
chunk__7349_7355 = G__7369;
count__7350_7356 = G__7370;
i__7351_7357 = G__7371;
continue;
}
} else
{var vec__7353_7372 = cljs.core.first.call(null,seq__7348_7366__$1);var ev__4336__auto___7373 = cljs.core.nth.call(null,vec__7353_7372,0,null);var func__4337__auto___7374 = cljs.core.nth.call(null,vec__7353_7372,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7373,func__4337__auto___7374);
{
var G__7375 = cljs.core.next.call(null,seq__7348_7366__$1);
var G__7376 = null;
var G__7377 = 0;
var G__7378 = 0;
seq__7348_7354 = G__7375;
chunk__7349_7355 = G__7376;
count__7350_7356 = G__7377;
i__7351_7357 = G__7378;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.clients.devtools.handle_log_msg = (function (){var method_table__4260__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var prefer_table__4261__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var method_cache__4262__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var cached_hierarchy__4263__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);var hierarchy__4264__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",3129050535),cljs.core.get_global_hierarchy.call(null));return (new cljs.core.MultiFn("handle-log-msg",new cljs.core.Keyword(null,"level","level",1116770038),new cljs.core.Keyword(null,"default","default",2558708147),hierarchy__4264__auto__,method_table__4260__auto__,prefer_table__4261__auto__,method_cache__4262__auto__,cached_hierarchy__4263__auto__));
})();
lt.objs.clients.devtools.valid_error_QMARK_ = (function valid_error_QMARK_(text){var text__$1 = text.toLowerCase();return cljs.core.every_QMARK_.call(null,(function (p1__7379_SHARP_){return cljs.core._EQ_.call(null,-1,text__$1.indexOf(p1__7379_SHARP_));
}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, ["failed to load resource: http://app.kodowa.com"], null));
});
cljs.core._add_method.call(null,lt.objs.clients.devtools.handle_log_msg,"error",(function (msg){if(lt.objs.clients.devtools.valid_error_QMARK_.call(null,[cljs.core.str(new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg)),cljs.core.str(": "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(msg))].join('')))
{var top = cljs.core.first.call(null,new cljs.core.Keyword(null,"stackTrace","stackTrace",3040184079).cljs$core$IFn$_invoke$arity$1(msg));return lt.objs.console.verbatim.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3","h3",1013907517),new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg),(cljs.core.truth_(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(top))?null:[cljs.core.str(": "),cljs.core.str(new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(msg))].join(''))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table","table",1124020032),(function (){var iter__4119__auto__ = (function iter__7380(s__7381){return (new cljs.core.LazySeq(null,(function (){var s__7381__$1 = s__7381;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__7381__$1);if(temp__4092__auto__)
{var s__7381__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__7381__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__7381__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__7383 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__7382 = 0;while(true){
if((i__7382 < size__4118__auto__))
{var f = cljs.core._nth.call(null,c__4117__auto__,i__7382);cljs.core.chunk_append.call(null,b__7383,lt.objs.clients.devtools.frame.call(null,f));
{
var G__7384 = (i__7382 + 1);
i__7382 = G__7384;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7383),iter__7380.call(null,cljs.core.chunk_rest.call(null,s__7381__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7383),null);
}
} else
{var f = cljs.core.first.call(null,s__7381__$2);return cljs.core.cons.call(null,lt.objs.clients.devtools.frame.call(null,f),iter__7380.call(null,cljs.core.rest.call(null,s__7381__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,new cljs.core.Keyword(null,"stackTrace","stackTrace",3040184079).cljs$core$IFn$_invoke$arity$1(msg));
})()], null)], null),"error",lt.objs.clients.devtools.error__GT_string.call(null,msg));
} else
{return null;
}
}));
cljs.core._add_method.call(null,lt.objs.clients.devtools.handle_log_msg,"log",(function (msg){var stack = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__7385_SHARP_){return cljs.core.not_EQ_.call(null,lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(p1__7385_SHARP_)),"bootstrap.js");
}),new cljs.core.Keyword(null,"stackTrace","stackTrace",3040184079).cljs$core$IFn$_invoke$arity$1(msg)));var stack__$1 = ((cljs.core.not.call(null,stack))?cljs.core.first.call(null,new cljs.core.Keyword(null,"stackTrace","stackTrace",3040184079).cljs$core$IFn$_invoke$arity$1(msg)):stack);return lt.objs.console.loc_log.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"file","file",1017047278),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(stack__$1)),new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"lineNumber","lineNumber",684762063).cljs$core$IFn$_invoke$arity$1(stack__$1),new cljs.core.Keyword(null,"content","content",1965434859),lt.objs.clients.devtools.msg__GT_log.call(null,msg),new cljs.core.Keyword(null,"str-content","str-content",1379403855),lt.objs.clients.devtools.msg__GT_string.call(null,msg)], null));
}));
cljs.core._add_method.call(null,lt.objs.clients.devtools.handle_log_msg,"warning",(function (msg){return lt.objs.console.loc_log.call(null,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"file","file",1017047278),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(msg)),new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"class","class",1108647146),"warning",new cljs.core.Keyword(null,"content","content",1965434859),new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"str-content","str-content",1379403855),new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg)], null));
}));
cljs.core._add_method.call(null,lt.objs.clients.devtools.handle_log_msg,new cljs.core.Keyword(null,"default","default",2558708147),(function (msg){return lt.objs.console.loc_log.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"file","file",1017047278),lt.objs.files.basename.call(null,new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(msg)),new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"content","content",1965434859),new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg),new cljs.core.Keyword(null,"str-content","str-content",1379403855),new cljs.core.Keyword(null,"text","text",1017460895).cljs$core$IFn$_invoke$arity$1(msg)], null));
}));
lt.objs.clients.devtools.extra_escape = (function extra_escape(code){return clojure.string.replace.call(null,clojure.string.replace.call(null,clojure.string.replace.call(null,code,"\\","\\\\"),"\n","\\n"),"'","\\'");
});
lt.objs.clients.devtools.get_frame_window = (function get_frame_window(frame_id){var frame = (window.frames[frame_id]);var or__3408__auto__ = frame.window;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return frame.contentWindow;
}
});
window.frameWindow = lt.objs.clients.devtools.get_frame_window;
lt.objs.clients.devtools.eval_in_frame = (function eval_in_frame(frame_id,msg,cb){return lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Runtime.evaluate",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"expression","expression",3513419274),[cljs.core.str("window.frameWindow('"),cljs.core.str(frame_id),cljs.core.str("').eval('"),cljs.core.str(lt.objs.clients.devtools.extra_escape.call(null,new cljs.core.Keyword(null,"code","code",1016963423).cljs$core$IFn$_invoke$arity$1(msg))),cljs.core.str("')")].join('')], null)], null),cb);
});
lt.objs.clients.devtools.clear_scripts_BANG_ = (function clear_scripts_BANG_(){return lt.object.merge_BANG_.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scripts","scripts",2940419194),cljs.core.PersistentArrayMap.EMPTY], null));
});
lt.objs.clients.devtools.find_script = (function find_script(client,path){var found_QMARK_ = cljs.core.get.call(null,cljs.core.deref.call(null,client).call(null,new cljs.core.Keyword(null,"scripts","scripts",2940419194)),lt.objs.files.basename.call(null,path));return found_QMARK_;
});
lt.objs.clients.devtools.script_exists_QMARK_ = (function script_exists_QMARK_(id,cb){return lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Debugger.canSetScriptSource",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scriptId","scriptId",606324408),id], null)], null),(function (res){return cb.call(null,new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(res)));
}));
});
lt.objs.clients.devtools.remove_script_BANG_ = (function remove_script_BANG_(client,path,id){var vec__7388 = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__7386_SHARP_){return cljs.core._EQ_.call(null,id,new cljs.core.Keyword(null,"scriptId","scriptId",606324408).cljs$core$IFn$_invoke$arity$1(cljs.core.second.call(null,p1__7386_SHARP_)));
}),lt.objs.clients.devtools.find_script.call(null,client,path)));var k = cljs.core.nth.call(null,vec__7388,0,null);var v = cljs.core.nth.call(null,vec__7388,1,null);return lt.object.update_BANG_.call(null,client,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"scripts","scripts",2940419194),lt.objs.files.basename.call(null,path)], null),cljs.core.dissoc,k);
});
lt.objs.clients.devtools.changelive_BANG_ = (function changelive_BANG_(obj,path,code,cb,else$){var temp__4090__auto__ = lt.objs.clients.devtools.find_script.call(null,lt.objs.clients.devtools.local,path);if(cljs.core.truth_(temp__4090__auto__))
{var s = temp__4090__auto__;var id = new cljs.core.Keyword(null,"scriptId","scriptId",606324408).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,cljs.core.vals.call(null,s)));return lt.objs.clients.devtools.script_exists_QMARK_.call(null,id,(function (exists_QMARK_){if(cljs.core.not.call(null,exists_QMARK_))
{lt.objs.clients.devtools.remove_script_BANG_.call(null,lt.objs.clients.devtools.local,path,id);
return changelive_BANG_.call(null,obj,path,code,cb);
} else
{lt.object.merge_BANG_.call(null,obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"script-id","script-id",1263804623),id], null));
return lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Debugger.setScriptSource",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"scriptId","scriptId",606324408),id,new cljs.core.Keyword(null,"scriptSource","scriptSource",3711898680),code], null)], null),cb);
}
}));
} else
{return else$.call(null);
}
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","devtools-client","lt.objs.clients.devtools/devtools-client",2732459658),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clients.devtools","clients.devtools",2282697598),null], null), null));
lt.objs.clients.devtools.local = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","devtools-client","lt.objs.clients.devtools/devtools-client",2732459658));
lt.objs.clients.devtools.__BEH__connect_BANG_ = (function __BEH__connect_BANG_(this$,url){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"socket","socket",4411822821),lt.objs.clients.devtools.socket.call(null,this$,url)], null));
lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Console.enable"], null));
lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Debugger.enable"], null));
return lt.objs.clients.devtools.send.call(null,lt.objs.clients.devtools.local,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Network.setCacheDisabled",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cacheDisabled","cacheDisabled",3367083920),true], null)], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","connect!","lt.objs.clients.devtools/connect!",4727522991),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__connect_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connect!","connect!",4735997929),null], null), null));
lt.objs.clients.devtools.__BEH__clear_queue_on_connect = (function __BEH__clear_queue_on_connect(this$){var seq__7393 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"queue","queue",1121848451).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var chunk__7394 = null;var count__7395 = 0;var i__7396 = 0;while(true){
if((i__7396 < count__7395))
{var msg = cljs.core._nth.call(null,chunk__7394,i__7396);cljs.core.apply.call(null,lt.objs.clients.devtools.send,msg);
{
var G__7397 = seq__7393;
var G__7398 = chunk__7394;
var G__7399 = count__7395;
var G__7400 = (i__7396 + 1);
seq__7393 = G__7397;
chunk__7394 = G__7398;
count__7395 = G__7399;
i__7396 = G__7400;
continue;
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__7393);if(temp__4092__auto__)
{var seq__7393__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7393__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__7393__$1);{
var G__7401 = cljs.core.chunk_rest.call(null,seq__7393__$1);
var G__7402 = c__4150__auto__;
var G__7403 = cljs.core.count.call(null,c__4150__auto__);
var G__7404 = 0;
seq__7393 = G__7401;
chunk__7394 = G__7402;
count__7395 = G__7403;
i__7396 = G__7404;
continue;
}
} else
{var msg = cljs.core.first.call(null,seq__7393__$1);cljs.core.apply.call(null,lt.objs.clients.devtools.send,msg);
{
var G__7405 = cljs.core.next.call(null,seq__7393__$1);
var G__7406 = null;
var G__7407 = 0;
var G__7408 = 0;
seq__7393 = G__7405;
chunk__7394 = G__7406;
count__7395 = G__7407;
i__7396 = G__7408;
continue;
}
}
} else
{return null;
}
}
break;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","clear-queue-on-connect","lt.objs.clients.devtools/clear-queue-on-connect",2202730096),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__clear_queue_on_connect,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connect","connect",1965255772),null], null), null));
lt.objs.clients.devtools.__BEH__print_messages = (function __BEH__print_messages(this$,m){return null;
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","print-messages","lt.objs.clients.devtools/print-messages",675571380),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__print_messages,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"message","message",1968829305),null], null), null));
lt.objs.clients.devtools.__BEH__handle_message = (function __BEH__handle_message(this$,m){var temp__4090__auto__ = cljs.core.deref.call(null,lt.objs.clients.devtools.cbs).call(null,new cljs.core.Keyword(null,"id","id",1013907597).cljs$core$IFn$_invoke$arity$1(m));if(cljs.core.truth_(temp__4090__auto__))
{var cb = temp__4090__auto__;cb.call(null,m);
return cljs.core.swap_BANG_.call(null,lt.objs.clients.devtools.cbs,cljs.core.dissoc,new cljs.core.Keyword(null,"id","id",1013907597).cljs$core$IFn$_invoke$arity$1(m));
} else
{if(cljs.core.truth_(new cljs.core.Keyword(null,"method","method",4231316563).cljs$core$IFn$_invoke$arity$1(m)))
{return lt.object.raise.call(null,this$,cljs.core.keyword.call(null,new cljs.core.Keyword(null,"method","method",4231316563).cljs$core$IFn$_invoke$arity$1(m)),m);
} else
{return null;
}
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","handle-message","lt.objs.clients.devtools/handle-message",1428636858),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__handle_message,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"message","message",1968829305),null], null), null));
lt.objs.clients.devtools.__BEH__script_parsed = (function __BEH__script_parsed(this$,s){var url = new cljs.core.Keyword(null,"url","url",1014020321).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(s));return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"scripts","scripts",2940419194)], null),cljs.core.assoc_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.files.basename.call(null,url),url], null),new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(s));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","script-parsed","lt.objs.clients.devtools/script-parsed",1407217355),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__script_parsed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Debugger.scriptParsed","Debugger.scriptParsed",1050864827),null], null), null));
lt.objs.clients.devtools.__BEH__console_log = (function __BEH__console_log(this$,m){var msg = new cljs.core.Keyword(null,"message","message",1968829305).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(m));return lt.objs.clients.devtools.handle_log_msg.call(null,msg);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","console-log","lt.objs.clients.devtools/console-log",1720612182),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__console_log,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Console.messageAdded","Console.messageAdded",4767739906),null], null), null));
lt.objs.clients.devtools.__BEH__clear_console = (function __BEH__clear_console(this$){return lt.objs.clients.devtools.send.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Console.clearMessages"], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","clear-console","lt.objs.clients.devtools/clear-console",2897345871),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__clear_console,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.clients.devtools.__BEH__disconnect = (function __BEH__disconnect(this$){if(cljs.core.truth_(new cljs.core.Keyword(null,"socket","socket",4411822821).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{return lt.objs.clients.devtools.close.call(null,this$);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","disconnect","lt.objs.clients.devtools/disconnect",3633156740),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__disconnect,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"disconnect","disconnect",1544309774),null], null), null));
lt.objs.clients.devtools.__BEH__reconnect = (function __BEH__reconnect(this$){lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"disconnect","disconnect",1544309774));
return fetch.core.xhr.call(null,lt.objs.clients.devtools.devtools_url,cljs.core.PersistentArrayMap.EMPTY,(function (d){var temp__4090__auto__ = lt.objs.clients.devtools.find_debugger_url.call(null,lt.util.cljs.js__GT_clj.call(null,JSON.parse(d),new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672),true));if(cljs.core.truth_(temp__4090__auto__))
{var url = temp__4090__auto__;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"connect!","connect!",4735997929),url);
} else
{return lt.util.js.wait.call(null,1000,(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"reconnect!","reconnect!",1644020508));
}));
}
}));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","reconnect","lt.objs.clients.devtools/reconnect",3171303119),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__reconnect,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"reconnect!","reconnect!",1644020508),null], null), null));
lt.objs.clients.devtools.__BEH__connect_on_init = (function __BEH__connect_on_init(app){return lt.object.raise.call(null,lt.objs.clients.devtools.local,new cljs.core.Keyword(null,"reconnect!","reconnect!",1644020508));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","connect-on-init","lt.objs.clients.devtools/connect-on-init",605011907),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__connect_on_init,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.clients.devtools.i_compare = (function i_compare(a,b){var ia = a.indexOf("__");var ib = b.indexOf("__");if((cljs.core._EQ_.call(null,ia,-1)) && (cljs.core._EQ_.call(null,ib,-1)))
{return cljs.core.compare.call(null,a,b);
} else
{if(((ia > -1)) && ((ib > -1)))
{return cljs.core.compare.call(null,a,b);
} else
{if((ia > -1))
{return 1;
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return -1;
} else
{return null;
}
}
}
}
});
lt.objs.clients.devtools.__GT_name = (function __GT_name(obj){var n = (function (){var or__3408__auto__ = new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(obj);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{var or__3408__auto____$1 = new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(obj));if(cljs.core.truth_(or__3408__auto____$1))
{return or__3408__auto____$1;
} else
{var or__3408__auto____$2 = new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(obj);if(cljs.core.truth_(or__3408__auto____$2))
{return or__3408__auto____$2;
} else
{return "UnknownObject";
}
}
}
})();if((n.indexOf("e.fn.e.init") > -1))
{return [cljs.core.str("jQuery"),cljs.core.str(cljs.core.subs.call(null,n,11))].join('');
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return n;
} else
{return null;
}
}
});
lt.objs.clients.devtools.desc = (function desc(this$,obj){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",1013907516),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"em","em",1013907482),lt.objs.clients.devtools.__GT_name.call(null,obj)], null),(cljs.core.truth_(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(obj))?[cljs.core.str(": "),cljs.core.str(new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(obj)))].join(''):null)], null));var seq__7415_7421 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),false], null));
} else
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
if(cljs.core.seq.call(null,new cljs.core.Keyword(null,"children","children",2673430897).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{return null;
} else
{return lt.objs.clients.devtools.send.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),1,new cljs.core.Keyword(null,"method","method",4231316563),"Runtime.getProperties",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"objectId","objectId",1104399404),(function (){var or__3408__auto__ = new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(obj));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(obj);
}
})(),new cljs.core.Keyword(null,"ownProperties","ownProperties",1958141131),true], null)], null),(function (d){return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"children","children",2673430897),new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(d))], null));
}));
}
}
})], null)));var chunk__7416_7422 = null;var count__7417_7423 = 0;var i__7418_7424 = 0;while(true){
if((i__7418_7424 < count__7417_7423))
{var vec__7419_7425 = cljs.core._nth.call(null,chunk__7416_7422,i__7418_7424);var ev__4336__auto___7426 = cljs.core.nth.call(null,vec__7419_7425,0,null);var func__4337__auto___7427 = cljs.core.nth.call(null,vec__7419_7425,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7426,func__4337__auto___7427);
{
var G__7428 = seq__7415_7421;
var G__7429 = chunk__7416_7422;
var G__7430 = count__7417_7423;
var G__7431 = (i__7418_7424 + 1);
seq__7415_7421 = G__7428;
chunk__7416_7422 = G__7429;
count__7417_7423 = G__7430;
i__7418_7424 = G__7431;
continue;
}
} else
{var temp__4092__auto___7432 = cljs.core.seq.call(null,seq__7415_7421);if(temp__4092__auto___7432)
{var seq__7415_7433__$1 = temp__4092__auto___7432;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7415_7433__$1))
{var c__4150__auto___7434 = cljs.core.chunk_first.call(null,seq__7415_7433__$1);{
var G__7435 = cljs.core.chunk_rest.call(null,seq__7415_7433__$1);
var G__7436 = c__4150__auto___7434;
var G__7437 = cljs.core.count.call(null,c__4150__auto___7434);
var G__7438 = 0;
seq__7415_7421 = G__7435;
chunk__7416_7422 = G__7436;
count__7417_7423 = G__7437;
i__7418_7424 = G__7438;
continue;
}
} else
{var vec__7420_7439 = cljs.core.first.call(null,seq__7415_7433__$1);var ev__4336__auto___7440 = cljs.core.nth.call(null,vec__7420_7439,0,null);var func__4337__auto___7441 = cljs.core.nth.call(null,vec__7420_7439,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7440,func__4337__auto___7441);
{
var G__7442 = cljs.core.next.call(null,seq__7415_7433__$1);
var G__7443 = null;
var G__7444 = 0;
var G__7445 = 0;
seq__7415_7421 = G__7442;
chunk__7416_7422 = G__7443;
count__7417_7423 = G__7444;
i__7418_7424 = G__7445;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.clients.devtools.props = (function props(this$,children){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul","ul",1013907977),(function (){var iter__4119__auto__ = (function iter__7456(s__7457){return (new cljs.core.LazySeq(null,(function (){var s__7457__$1 = s__7457;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__7457__$1);if(temp__4092__auto__)
{var s__7457__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__7457__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__7457__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__7459 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__7458 = 0;while(true){
if((i__7458 < size__4118__auto__))
{var c = cljs.core._nth.call(null,c__4117__auto__,i__7458);cljs.core.chunk_append.call(null,b__7459,(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c)),"object");if(and__3396__auto__)
{return new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c));
} else
{return and__3396__auto__;
}
})())?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),c))], null):new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"em","em",1013907482),new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(c)], null),": ",(function (){var or__3408__auto__ = new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return [cljs.core.str(lt.objs.clients.devtools.format_value.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c)))].join('');
}
})()], null)));
{
var G__7466 = (i__7458 + 1);
i__7458 = G__7466;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7459),iter__7456.call(null,cljs.core.chunk_rest.call(null,s__7457__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7459),null);
}
} else
{var c = cljs.core.first.call(null,s__7457__$2);return cljs.core.cons.call(null,(cljs.core.truth_((function (){var and__3396__auto__ = cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c)),"object");if(and__3396__auto__)
{return new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c));
} else
{return and__3396__auto__;
}
})())?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),c))], null):new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",1013907695),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"em","em",1013907482),new cljs.core.Keyword(null,"name","name",1017277949).cljs$core$IFn$_invoke$arity$1(c)], null),": ",(function (){var or__3408__auto__ = new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return [cljs.core.str(lt.objs.clients.devtools.format_value.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(c)))].join('');
}
})()], null)),iter__7456.call(null,cljs.core.rest.call(null,s__7457__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,cljs.core.sort_by.call(null,new cljs.core.Keyword(null,"name","name",1017277949),lt.objs.clients.devtools.i_compare,children));
})()], null));var seq__7460_7467 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__7461_7468 = null;var count__7462_7469 = 0;var i__7463_7470 = 0;while(true){
if((i__7463_7470 < count__7462_7469))
{var vec__7464_7471 = cljs.core._nth.call(null,chunk__7461_7468,i__7463_7470);var ev__4336__auto___7472 = cljs.core.nth.call(null,vec__7464_7471,0,null);var func__4337__auto___7473 = cljs.core.nth.call(null,vec__7464_7471,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7472,func__4337__auto___7473);
{
var G__7474 = seq__7460_7467;
var G__7475 = chunk__7461_7468;
var G__7476 = count__7462_7469;
var G__7477 = (i__7463_7470 + 1);
seq__7460_7467 = G__7474;
chunk__7461_7468 = G__7475;
count__7462_7469 = G__7476;
i__7463_7470 = G__7477;
continue;
}
} else
{var temp__4092__auto___7478 = cljs.core.seq.call(null,seq__7460_7467);if(temp__4092__auto___7478)
{var seq__7460_7479__$1 = temp__4092__auto___7478;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7460_7479__$1))
{var c__4150__auto___7480 = cljs.core.chunk_first.call(null,seq__7460_7479__$1);{
var G__7481 = cljs.core.chunk_rest.call(null,seq__7460_7479__$1);
var G__7482 = c__4150__auto___7480;
var G__7483 = cljs.core.count.call(null,c__4150__auto___7480);
var G__7484 = 0;
seq__7460_7467 = G__7481;
chunk__7461_7468 = G__7482;
count__7462_7469 = G__7483;
i__7463_7470 = G__7484;
continue;
}
} else
{var vec__7465_7485 = cljs.core.first.call(null,seq__7460_7479__$1);var ev__4336__auto___7486 = cljs.core.nth.call(null,vec__7465_7485,0,null);var func__4337__auto___7487 = cljs.core.nth.call(null,vec__7465_7485,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___7486,func__4337__auto___7487);
{
var G__7488 = cljs.core.next.call(null,seq__7460_7479__$1);
var G__7489 = null;
var G__7490 = 0;
var G__7491 = 0;
seq__7460_7467 = G__7488;
chunk__7461_7468 = G__7489;
count__7462_7469 = G__7490;
i__7463_7470 = G__7491;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.clients.devtools.__GT_open = (function __GT_open(this$){if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(this$)))
{return "inspector-object open";
} else
{return "inspector-object";
}
});
lt.objs.clients.devtools.inspector__GT_result = (function inspector__GT_result(o){var res = new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(o);var data = new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(res);if(cljs.core.truth_(new cljs.core.Keyword(null,"wasThrown","wasThrown",3712175619).cljs$core$IFn$_invoke$arity$1(res)))
{return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"ex","ex",1013907493),new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(data)], null);
} else
{return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"result","result",4374444943),(function (){var pred__7495 = cljs.core._EQ_;var expr__7496 = new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(data);if(cljs.core.truth_(pred__7495.call(null,"object",expr__7496)))
{return lt.object.__GT_content.call(null,lt.object.create.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),lt.objs.clients.devtools.local,data));
} else
{var or__3408__auto__ = new cljs.core.Keyword(null,"description","description",3584325486).cljs$core$IFn$_invoke$arity$1(data);if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return cljs.core.pr_str.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(data));
}
}
})()], null);
}
});
lt.objs.clients.devtools.clear_unused_inspectors = (function clear_unused_inspectors(){var seq__7504 = cljs.core.seq.call(null,lt.object.by_tag.call(null,new cljs.core.Keyword(null,"inspector.object","inspector.object",1285492104)));var chunk__7506 = null;var count__7507 = 0;var i__7508 = 0;while(true){
if((i__7508 < count__7507))
{var obj = cljs.core._nth.call(null,chunk__7506,i__7508);if((cljs.core.not.call(null,lt.object.__GT_content.call(null,obj))) || (cljs.core.not.call(null,lt.util.dom.parents.call(null,lt.object.__GT_content.call(null,obj),new cljs.core.Keyword(null,"body","body",1016933652)))))
{lt.object.destroy_BANG_.call(null,obj);
{
var G__7510 = seq__7504;
var G__7511 = chunk__7506;
var G__7512 = count__7507;
var G__7513 = (i__7508 + 1);
seq__7504 = G__7510;
chunk__7506 = G__7511;
count__7507 = G__7512;
i__7508 = G__7513;
continue;
}
} else
{{
var G__7514 = seq__7504;
var G__7515 = chunk__7506;
var G__7516 = count__7507;
var G__7517 = (i__7508 + 1);
seq__7504 = G__7514;
chunk__7506 = G__7515;
count__7507 = G__7516;
i__7508 = G__7517;
continue;
}
}
} else
{var temp__4092__auto__ = cljs.core.seq.call(null,seq__7504);if(temp__4092__auto__)
{var seq__7504__$1 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7504__$1))
{var c__4150__auto__ = cljs.core.chunk_first.call(null,seq__7504__$1);{
var G__7518 = cljs.core.chunk_rest.call(null,seq__7504__$1);
var G__7519 = c__4150__auto__;
var G__7520 = cljs.core.count.call(null,c__4150__auto__);
var G__7521 = 0;
seq__7504 = G__7518;
chunk__7506 = G__7519;
count__7507 = G__7520;
i__7508 = G__7521;
continue;
}
} else
{var obj = cljs.core.first.call(null,seq__7504__$1);if((cljs.core.not.call(null,lt.object.__GT_content.call(null,obj))) || (cljs.core.not.call(null,lt.util.dom.parents.call(null,lt.object.__GT_content.call(null,obj),new cljs.core.Keyword(null,"body","body",1016933652)))))
{lt.object.destroy_BANG_.call(null,obj);
{
var G__7522 = cljs.core.next.call(null,seq__7504__$1);
var G__7523 = null;
var G__7524 = 0;
var G__7525 = 0;
seq__7504 = G__7522;
chunk__7506 = G__7523;
count__7507 = G__7524;
i__7508 = G__7525;
continue;
}
} else
{{
var G__7526 = cljs.core.next.call(null,seq__7504__$1);
var G__7527 = null;
var G__7528 = 0;
var G__7529 = 0;
seq__7504 = G__7526;
chunk__7506 = G__7527;
count__7507 = G__7528;
i__7508 = G__7529;
continue;
}
}
}
} else
{return null;
}
}
break;
}
});
lt.objs.clients.devtools.__BEH__clean_inspectors_timer = (function __BEH__clean_inspectors_timer(this$){return lt.util.js.every.call(null,60000,lt.objs.clients.devtools.clear_unused_inspectors);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","clean-inspectors-timer","lt.objs.clients.devtools/clean-inspectors-timer",3384727952),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__clean_inspectors_timer,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.clients.devtools.__BEH__clear_inspector_object = (function __BEH__clear_inspector_object(this$){var temp__4092__auto__ = (function (){var or__3408__auto__ = new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))));if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return new cljs.core.Keyword(null,"objectId","objectId",1104399404).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"info","info",1017141280).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
}
})();if(cljs.core.truth_(temp__4092__auto__))
{var id = temp__4092__auto__;return lt.objs.clients.devtools.send.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",1013907597),lt.objs.clients.devtools.next_id.call(null),new cljs.core.Keyword(null,"method","method",4231316563),"Runtime.releaseObject",new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"objectId","objectId",1104399404),id], null)], null));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","clear-inspector-object","lt.objs.clients.devtools/clear-inspector-object",3133205453),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.clients.devtools.__BEH__clear_inspector_object,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"destroy","destroy",2571277164),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.clients.devtools","inspector-object","lt.objs.clients.devtools/inspector-object",4768596045),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"inspector.object","inspector.object",1285492104),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,client,m){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"client","client",3951159101),client,new cljs.core.Keyword(null,"info","info",1017141280),m], null));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,lt.objs.clients.devtools.__GT_open)], null),lt.objs.clients.devtools.desc.call(null,this$,m),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),crate.binding.bound.call(null,crate.binding.subatom.call(null,this$,new cljs.core.Keyword(null,"children","children",2673430897)),cljs.core.partial.call(null,lt.objs.clients.devtools.props,this$))], null)], null);
}));

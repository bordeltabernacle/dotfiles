// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.find');
goog.require('cljs.core');
goog.require('lt.util.style');
goog.require('crate.binding');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.statusbar');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.canvas');
goog.require('lt.objs.statusbar');
goog.require('lt.util.load');
goog.require('crate.binding');
goog.require('lt.objs.keyboard');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.util.load');
goog.require('lt.util.style');
goog.require('lt.objs.editor');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.keyboard');
lt.objs.find.find_height = 30;
lt.objs.find.input = (function input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.find","input.find",2354911439),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"find"], null)], null));var seq__8955_8961 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),(function (){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.util.dom.val.call(null,me));
}),new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"find-bar","find-bar",4628501873),this$);
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"find-bar","find-bar",4628501873));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__8956_8962 = null;var count__8957_8963 = 0;var i__8958_8964 = 0;while(true){
if((i__8958_8964 < count__8957_8963))
{var vec__8959_8965 = cljs.core._nth.call(null,chunk__8956_8962,i__8958_8964);var ev__4336__auto___8966 = cljs.core.nth.call(null,vec__8959_8965,0,null);var func__4337__auto___8967 = cljs.core.nth.call(null,vec__8959_8965,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8966,func__4337__auto___8967);
{
var G__8968 = seq__8955_8961;
var G__8969 = chunk__8956_8962;
var G__8970 = count__8957_8963;
var G__8971 = (i__8958_8964 + 1);
seq__8955_8961 = G__8968;
chunk__8956_8962 = G__8969;
count__8957_8963 = G__8970;
i__8958_8964 = G__8971;
continue;
}
} else
{var temp__4092__auto___8972 = cljs.core.seq.call(null,seq__8955_8961);if(temp__4092__auto___8972)
{var seq__8955_8973__$1 = temp__4092__auto___8972;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8955_8973__$1))
{var c__4150__auto___8974 = cljs.core.chunk_first.call(null,seq__8955_8973__$1);{
var G__8975 = cljs.core.chunk_rest.call(null,seq__8955_8973__$1);
var G__8976 = c__4150__auto___8974;
var G__8977 = cljs.core.count.call(null,c__4150__auto___8974);
var G__8978 = 0;
seq__8955_8961 = G__8975;
chunk__8956_8962 = G__8976;
count__8957_8963 = G__8977;
i__8958_8964 = G__8978;
continue;
}
} else
{var vec__8960_8979 = cljs.core.first.call(null,seq__8955_8973__$1);var ev__4336__auto___8980 = cljs.core.nth.call(null,vec__8960_8979,0,null);var func__4337__auto___8981 = cljs.core.nth.call(null,vec__8960_8979,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___8980,func__4337__auto___8981);
{
var G__8982 = cljs.core.next.call(null,seq__8955_8973__$1);
var G__8983 = null;
var G__8984 = 0;
var G__8985 = 0;
seq__8955_8961 = G__8982;
chunk__8956_8962 = G__8983;
count__8957_8963 = G__8984;
i__8958_8964 = G__8985;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.replace_input = (function replace_input(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.replace","input.replace",1121297410),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1017479852),"text",new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"replace"], null)], null));var seq__8992_8998 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",1114262332),(function (){var me = this;return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"replace.changed","replace.changed",762914028),lt.util.dom.val.call(null,me));
}),new cljs.core.Keyword(null,"focus","focus",1111509066),(function (){lt.objs.context.in_BANG_.call(null,new cljs.core.Keyword(null,"find-bar.replace","find-bar.replace",4492994871),this$);
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"active","active",3885920888));
}),new cljs.core.Keyword(null,"blur","blur",1016931289),(function (){lt.objs.context.out_BANG_.call(null,new cljs.core.Keyword(null,"find-bar.replace","find-bar.replace",4492994871));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"inactive","inactive",1038569437));
})], null)));var chunk__8993_8999 = null;var count__8994_9000 = 0;var i__8995_9001 = 0;while(true){
if((i__8995_9001 < count__8994_9000))
{var vec__8996_9002 = cljs.core._nth.call(null,chunk__8993_8999,i__8995_9001);var ev__4336__auto___9003 = cljs.core.nth.call(null,vec__8996_9002,0,null);var func__4337__auto___9004 = cljs.core.nth.call(null,vec__8996_9002,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9003,func__4337__auto___9004);
{
var G__9005 = seq__8992_8998;
var G__9006 = chunk__8993_8999;
var G__9007 = count__8994_9000;
var G__9008 = (i__8995_9001 + 1);
seq__8992_8998 = G__9005;
chunk__8993_8999 = G__9006;
count__8994_9000 = G__9007;
i__8995_9001 = G__9008;
continue;
}
} else
{var temp__4092__auto___9009 = cljs.core.seq.call(null,seq__8992_8998);if(temp__4092__auto___9009)
{var seq__8992_9010__$1 = temp__4092__auto___9009;if(cljs.core.chunked_seq_QMARK_.call(null,seq__8992_9010__$1))
{var c__4150__auto___9011 = cljs.core.chunk_first.call(null,seq__8992_9010__$1);{
var G__9012 = cljs.core.chunk_rest.call(null,seq__8992_9010__$1);
var G__9013 = c__4150__auto___9011;
var G__9014 = cljs.core.count.call(null,c__4150__auto___9011);
var G__9015 = 0;
seq__8992_8998 = G__9012;
chunk__8993_8999 = G__9013;
count__8994_9000 = G__9014;
i__8995_9001 = G__9015;
continue;
}
} else
{var vec__8997_9016 = cljs.core.first.call(null,seq__8992_9010__$1);var ev__4336__auto___9017 = cljs.core.nth.call(null,vec__8997_9016,0,null);var func__4337__auto___9018 = cljs.core.nth.call(null,vec__8997_9016,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9017,func__4337__auto___9018);
{
var G__9019 = cljs.core.next.call(null,seq__8992_9010__$1);
var G__9020 = null;
var G__9021 = 0;
var G__9022 = 0;
seq__8992_8998 = G__9019;
chunk__8993_8999 = G__9020;
count__8994_9000 = G__9021;
i__8995_9001 = G__9022;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.replace_all_button = (function replace_all_button(this$){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",3931183780),"all"], null));var seq__9029_9035 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"find.replace-all","find.replace-all",2877618629));
})], null)));var chunk__9030_9036 = null;var count__9031_9037 = 0;var i__9032_9038 = 0;while(true){
if((i__9032_9038 < count__9031_9037))
{var vec__9033_9039 = cljs.core._nth.call(null,chunk__9030_9036,i__9032_9038);var ev__4336__auto___9040 = cljs.core.nth.call(null,vec__9033_9039,0,null);var func__4337__auto___9041 = cljs.core.nth.call(null,vec__9033_9039,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9040,func__4337__auto___9041);
{
var G__9042 = seq__9029_9035;
var G__9043 = chunk__9030_9036;
var G__9044 = count__9031_9037;
var G__9045 = (i__9032_9038 + 1);
seq__9029_9035 = G__9042;
chunk__9030_9036 = G__9043;
count__9031_9037 = G__9044;
i__9032_9038 = G__9045;
continue;
}
} else
{var temp__4092__auto___9046 = cljs.core.seq.call(null,seq__9029_9035);if(temp__4092__auto___9046)
{var seq__9029_9047__$1 = temp__4092__auto___9046;if(cljs.core.chunked_seq_QMARK_.call(null,seq__9029_9047__$1))
{var c__4150__auto___9048 = cljs.core.chunk_first.call(null,seq__9029_9047__$1);{
var G__9049 = cljs.core.chunk_rest.call(null,seq__9029_9047__$1);
var G__9050 = c__4150__auto___9048;
var G__9051 = cljs.core.count.call(null,c__4150__auto___9048);
var G__9052 = 0;
seq__9029_9035 = G__9049;
chunk__9030_9036 = G__9050;
count__9031_9037 = G__9051;
i__9032_9038 = G__9052;
continue;
}
} else
{var vec__9034_9053 = cljs.core.first.call(null,seq__9029_9047__$1);var ev__4336__auto___9054 = cljs.core.nth.call(null,vec__9034_9053,0,null);var func__4337__auto___9055 = cljs.core.nth.call(null,vec__9034_9053,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___9054,func__4337__auto___9055);
{
var G__9056 = cljs.core.next.call(null,seq__9029_9047__$1);
var G__9057 = null;
var G__9058 = 0;
var G__9059 = 0;
seq__9029_9035 = G__9056;
chunk__9030_9036 = G__9057;
count__9031_9037 = G__9058;
i__9032_9038 = G__9059;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.find.current_ed = (function current_ed(){return lt.objs.editor.__GT_cm_ed.call(null,lt.objs.editor.pool.last_active.call(null));
});
lt.objs.find.__GT_shown_width = (function __GT_shown_width(shown_QMARK_){if(cljs.core.truth_(shown_QMARK_))
{return "";
} else
{return "0";
}
});
lt.objs.find.__GT_val = (function __GT_val(this$){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.find","input.find",2354911439),lt.object.__GT_content.call(null,this$)));
});
lt.objs.find.__GT_replacement = (function __GT_replacement(this$){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.replace","input.replace",1121297410),lt.object.__GT_content.call(null,this$)));
});
lt.objs.find.set_val = (function set_val(this$,v){return lt.util.dom.val.call(null,lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input.find","input.find",2354911439),lt.object.__GT_content.call(null,this$)),v);
});
lt.objs.find.__BEH__show_BANG_ = (function __BEH__show_BANG_(this$){return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"pos","pos",1014015430),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.objs.editor.__GT_cursor.call(null,ed);
} else
{return null;
}
})()], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","show!","lt.objs.find/show!",2146764764),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__show_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show!","show!",1123317814),null], null), null));
lt.objs.find.__BEH__hide_BANG_ = (function __BEH__hide_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.objs.editor.focus.call(null,ed);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","hide!","lt.objs.find/hide!",2156838397),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__hide_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hide!","hide!",1113177745),null], null), null));
lt.objs.find.__BEH__next_BANG_ = (function __BEH__next_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var cur = temp__4092__auto__;if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(and__3396__auto__))
{return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"searching.for","searching.for",2610146695).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur)),lt.objs.find.__GT_val.call(null,this$));
} else
{return and__3396__auto__;
}
})()))
{return CodeMirror.commands.findNext(lt.objs.find.current_ed.call(null),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","next!","lt.objs.find/next!",2149177006),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__next_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"next!","next!",1118619392),null], null), null));
lt.objs.find.__BEH__prev_BANG_ = (function __BEH__prev_BANG_(this$){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var cur = temp__4092__auto__;if(cljs.core.truth_((function (){var and__3396__auto__ = new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(and__3396__auto__))
{return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"searching.for","searching.for",2610146695).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,cur)),lt.objs.find.__GT_val.call(null,this$));
} else
{return and__3396__auto__;
}
})()))
{return CodeMirror.commands.findPrev(lt.objs.find.current_ed.call(null),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","prev!","lt.objs.find/prev!",2146953582),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__prev_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"prev!","prev!",1120835520),null], null), null));
lt.objs.find.__BEH__focus_BANG_ = (function __BEH__focus_BANG_(this$){var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));lt.util.dom.focus.call(null,input);
return input.select();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","focus!","lt.objs.find/focus!",3523298151),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__focus_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"focus!","focus!",4039653819),null], null), null));
lt.objs.find.__BEH__clear_BANG_ = (function __BEH__clear_BANG_(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching?","searching?",4599032247),false], null));
var temp__4092__auto___9060 = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto___9060))
{var ed_9061 = temp__4092__auto___9060;CodeMirror.commands.clearSearch(lt.objs.editor.__GT_cm_ed.call(null,ed_9061));
} else
{}
var input = lt.util.dom.$.call(null,new cljs.core.Keyword(null,"input","input",1114262332),lt.object.__GT_content.call(null,this$));if(cljs.core._EQ_.call(null,"",lt.util.dom.val.call(null,input)))
{return lt.util.dom.val.call(null,input,"");
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","clear!","lt.objs.find/clear!",2808649292),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__clear_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.find.__BEH__replace_BANG_ = (function __BEH__replace_BANG_(this$,all_QMARK_){if(cljs.core.truth_(new cljs.core.Keyword(null,"searching?","searching?",4599032247).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{} else
{lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"search!","search!",2982232811),lt.objs.find.__GT_val.call(null,this$));
}
CodeMirror.commands.replace(lt.objs.editor.__GT_cm_ed.call(null,lt.objs.editor.pool.last_active.call(null)),lt.objs.find.__GT_replacement.call(null,this$),new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),cljs.core.boolean$.call(null,all_QMARK_));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"next!","next!",1118619392));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","replace!","lt.objs.find/replace!",1610475715),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__replace_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"replace!","replace!",583571295),null], null), null));
lt.objs.find.__BEH__search_BANG_ = (function __BEH__search_BANG_(this$,v){if(cljs.core.empty_QMARK_.call(null,v))
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var e = temp__4092__auto__;var temp__4092__auto___9062__$1 = new cljs.core.Keyword(null,"pos","pos",1014015430).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));if(cljs.core.truth_(temp__4092__auto___9062__$1))
{var pos_9063 = temp__4092__auto___9062__$1;lt.objs.editor.move_cursor.call(null,e,pos_9063);
} else
{}
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching?","searching?",4599032247),true], null));
lt.object.merge_BANG_.call(null,e,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"searching.for","searching.for",2610146695),v], null));
var ed = lt.objs.editor.__GT_cm_ed.call(null,e);return CodeMirror.commands.find(ed,v,new cljs.core.Keyword(null,"reverse?","reverse?",749403407).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{return null;
}
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","search!","lt.objs.find/search!",4580588119),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__search_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"search!","search!",2982232811),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),50);
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","find-bar","lt.objs.find/find-bar",1860577053),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"find-bar","find-bar",4628501873),null], null), null),new cljs.core.Keyword(null,"height","height",4087841945),30,new cljs.core.Keyword(null,"order","order",1119910592),-1,new cljs.core.Keyword(null,"searching?","searching?",4599032247),false,new cljs.core.Keyword(null,"reverse?","reverse?",749403407),false,new cljs.core.Keyword(null,"shown","shown",1123317891),false,new cljs.core.Keyword(null,"pos","pos",1014015430),null,new cljs.core.Keyword(null,"init","init",1017141378),(function (this$){return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#find-bar","div#find-bar",4400386339),lt.objs.find.input.call(null,this$),lt.objs.find.replace_input.call(null,this$),lt.objs.find.replace_all_button.call(null,this$)], null);
}));
lt.objs.find.__BEH__init = (function __BEH__init(this$){lt.util.load.js.call(null,"core/node_modules/codemirror/search.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
return lt.util.load.js.call(null,"core/node_modules/codemirror/searchcursor.js",new cljs.core.Keyword(null,"sync","sync",1017449997));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","init","lt.objs.find/init",2521376816),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__init,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"init","init",1017141378),null], null), null));
lt.objs.find.bar = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.find","find-bar","lt.objs.find/find-bar",1860577053));
lt.objs.statusbar.add_container.call(null,lt.objs.find.bar);
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.show","find.show",1398717828),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: In current editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (rev_QMARK_){lt.object.merge_BANG_.call(null,lt.objs.find.bar,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"reverse?","reverse?",749403407),rev_QMARK_], null));
lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"show!","show!",1123317814));
return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"focus!","focus!",4039653819));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.fill-selection","find.fill-selection",632770057),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Fill with selection",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var e = temp__4092__auto__;var temp__4092__auto____$1 = lt.objs.editor.selection.call(null,e);if(cljs.core.truth_(temp__4092__auto____$1))
{var sel = temp__4092__auto____$1;if(cljs.core.empty_QMARK_.call(null,sel))
{return null;
} else
{return lt.objs.find.set_val.call(null,lt.objs.find.bar,sel);
}
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.clear","find.clear",4338523466),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Clear the find bar",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.hide","find.hide",1398390729),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Hide the find bar",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"hide!","hide!",1113177745));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.next","find.next",1398566266),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Next find result",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"next!","next!",1118619392));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.prev","find.prev",1398637754),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Previous find result",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"prev!","prev!",1120835520));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.replace","find.replace",755032817),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Replace current",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"replace!","replace!",583571295));
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"find.replace-all","find.replace-all",2877618629),new cljs.core.Keyword(null,"desc","desc",1016984067),"Find: Replace all occurrences",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){return lt.object.raise.call(null,lt.objs.find.bar,new cljs.core.Keyword(null,"replace!","replace!",583571295),new cljs.core.Keyword(null,"all","all",1014000915));
})], null));
lt.objs.find.line_input = lt.objs.sidebar.command.options_input.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"placeholder","placeholder",1612151013),"line number"], null));
lt.objs.find.__BEH__exec_active_BANG_ = (function __BEH__exec_active_BANG_(this$,l){return lt.objs.sidebar.command.exec_active_BANG_.call(null,l);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.find","exec-active!","lt.objs.find/exec-active!",4519874941),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.find.__BEH__exec_active_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"select","select",4402849902),null], null), null));
lt.object.add_behavior_BANG_.call(null,lt.objs.find.line_input,new cljs.core.Keyword("lt.objs.find","exec-active!","lt.objs.find/exec-active!",4519874941));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"goto-line","goto-line",2802035088),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Goto line",new cljs.core.Keyword(null,"options","options",4059396624),lt.objs.find.line_input,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (l){if((typeof l === 'number') || (!(cljs.core.empty_QMARK_.call(null,l))))
{var cur = lt.objs.editor.pool.last_active.call(null);lt.objs.editor.move_cursor.call(null,cur,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"ch","ch",1013907415),0,new cljs.core.Keyword(null,"line","line",1017226086),(((!(typeof l === 'number'))?parseInt(l):l) - 1)], null));
return lt.objs.editor.center_cursor.call(null,cur);
} else
{return null;
}
})], null));

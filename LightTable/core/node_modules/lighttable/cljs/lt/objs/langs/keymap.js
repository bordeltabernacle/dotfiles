// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.langs.keymap');
goog.require('cljs.core');
goog.require('lt.util.cljs');
goog.require('lt.util.dom');
goog.require('lt.objs.context');
goog.require('lt.objs.context');
goog.require('lt.util.dom');
goog.require('clojure.string');
goog.require('lt.util.cljs');
goog.require('lt.objs.command');
goog.require('lt.objs.langs.behaviors');
goog.require('clojure.string');
goog.require('lt.objs.editor');
goog.require('lt.object');
goog.require('lt.object');
goog.require('lt.objs.editor');
goog.require('lt.objs.command');
goog.require('lt.objs.langs.behaviors');
lt.objs.langs.keymap.completions = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"tag","tag",1014018828),new cljs.core.Keyword(null,"tag","tag",1014018828).cljs$core$IFn$_invoke$arity$1(lt.objs.langs.behaviors.completions),new cljs.core.Keyword(null,"command","command",1964298941),lt.objs.command.completions], null);
lt.objs.langs.keymap.idx__GT_entry_info = (function idx__GT_entry_info(idx,entries){var vec__10004 = lt.objs.langs.behaviors.idx__GT_item.call(null,idx,entries);var ix = cljs.core.nth.call(null,vec__10004,0,null);var entry = cljs.core.nth.call(null,vec__10004,1,null);var vec__10005 = lt.objs.langs.behaviors.idx__GT_item.call(null,idx,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(entry));var tokenIx = cljs.core.nth.call(null,vec__10005,0,null);var token = cljs.core.nth.call(null,vec__10005,1,null);var vec__10006 = (cljs.core.truth_(new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token))?lt.objs.langs.behaviors.idx__GT_item.call(null,idx,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token)):null);var argIx = cljs.core.nth.call(null,vec__10006,0,null);var arg = cljs.core.nth.call(null,vec__10006,1,null);var vec__10007 = new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(entry);var tag = cljs.core.nth.call(null,vec__10007,0,null);var key = cljs.core.nth.call(null,vec__10007,1,null);var first_command = cljs.core.nth.call(null,vec__10007,2,null);var tag__$1 = (cljs.core.truth_(tag)?lt.objs.langs.behaviors.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(tag)):null);var past_last_token = (idx > (new cljs.core.Keyword(null,"end","end",1014004813).cljs$core$IFn$_invoke$arity$1(cljs.core.last.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(entry))) + 1));var pos = (((cljs.core.not.call(null,tokenIx)) && (past_last_token))?cljs.core.count.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(entry)):((cljs.core.not.call(null,tokenIx))?(cljs.core.count.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(entry)) - 1):((new cljs.core.Keyword(null,"else","else",1017020587))?tokenIx:null)));var past_last_arg = (idx > (new cljs.core.Keyword(null,"end","end",1014004813).cljs$core$IFn$_invoke$arity$1(cljs.core.last.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token))) + 1));var arg_pos = (cljs.core.truth_(new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token))?(((cljs.core.not.call(null,argIx)) && (past_last_arg))?cljs.core.count.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token)):((cljs.core.not.call(null,argIx))?(cljs.core.count.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token)) - 1):((new cljs.core.Keyword(null,"else","else",1017020587))?argIx:null))):null);var command = (cljs.core.truth_((function (){var and__3396__auto__ = tokenIx;if(cljs.core.truth_(and__3396__auto__))
{return (tokenIx > 1);
} else
{return and__3396__auto__;
}
})())?(cljs.core.truth_(arg_pos)?lt.objs.langs.behaviors.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(token)))):((new cljs.core.Keyword(null,"else","else",1017020587))?lt.objs.langs.behaviors.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(token)):null)):null);var first_command__$1 = (cljs.core.truth_(first_command)?(cljs.core.truth_(new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(first_command))?lt.objs.langs.behaviors.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,new cljs.core.Keyword(null,"tokens","tokens",4440684812).cljs$core$IFn$_invoke$arity$1(first_command)))):((new cljs.core.Keyword(null,"else","else",1017020587))?lt.objs.langs.behaviors.str__GT_ns_keyword.call(null,new cljs.core.Keyword(null,"value","value",1125876963).cljs$core$IFn$_invoke$arity$1(first_command)):null)):null);return new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"tag","tag",1014018828),tag__$1,new cljs.core.Keyword(null,"key","key",1014010321),key,new cljs.core.Keyword(null,"first-command","first-command",563271840),first_command__$1,new cljs.core.Keyword(null,"command-at-pos","command-at-pos",2108663278),command,new cljs.core.Keyword(null,"arg-pos","arg-pos",4562713039),arg_pos,new cljs.core.Keyword(null,"pos","pos",1014015430),pos], null);
});
lt.objs.langs.keymap.pos__GT_token_type = (function pos__GT_token_type(pos){var pred__10011 = cljs.core._EQ_;var expr__10012 = pos;if(cljs.core.truth_(pred__10011.call(null,0,expr__10012)))
{return new cljs.core.Keyword(null,"tag","tag",1014018828);
} else
{if(cljs.core.truth_(pred__10011.call(null,1,expr__10012)))
{return new cljs.core.Keyword(null,"key","key",1014010321);
} else
{return new cljs.core.Keyword(null,"command","command",1964298941);
}
}
});
lt.objs.langs.keymap.__BEH__keymap_hints = (function __BEH__keymap_hints(this$,hints,token){var idx = lt.objs.langs.behaviors.__GT_index.call(null,this$);var map__10015 = lt.objs.langs.keymap.idx__GT_entry_info.call(null,idx,new cljs.core.Keyword(null,"entries","entries",3717298178).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var map__10015__$1 = ((cljs.core.seq_QMARK_.call(null,map__10015))?cljs.core.apply.call(null,cljs.core.hash_map,map__10015):map__10015);var arg_pos = cljs.core.get.call(null,map__10015__$1,new cljs.core.Keyword(null,"arg-pos","arg-pos",4562713039));var command_at_pos = cljs.core.get.call(null,map__10015__$1,new cljs.core.Keyword(null,"command-at-pos","command-at-pos",2108663278));var pos = cljs.core.get.call(null,map__10015__$1,new cljs.core.Keyword(null,"pos","pos",1014015430));var key = cljs.core.get.call(null,map__10015__$1,new cljs.core.Keyword(null,"key","key",1014010321));var tag = cljs.core.get.call(null,map__10015__$1,new cljs.core.Keyword(null,"tag","tag",1014018828));var comps = (((cljs.core.not.call(null,arg_pos)) || ((arg_pos < 1)))?lt.objs.langs.keymap.completions.call(null,lt.objs.langs.keymap.pos__GT_token_type.call(null,pos)):null);if(cljs.core.not.call(null,comps))
{return hints;
} else
{return comps.call(null,token);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","keymap-hints","lt.objs.langs.keymap/keymap-hints",592920276),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__keymap_hints,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hints+","hints+",4091697745),null], null), null),new cljs.core.Keyword(null,"exclusive","exclusive",2700522000),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("lt.plugins.auto-complete","textual-hints","lt.plugins.auto-complete/textual-hints",1172342809)], null));
lt.objs.langs.keymap.__BEH__show_info_on_move = (function __BEH__show_info_on_move(this$){var idx = lt.objs.langs.behaviors.__GT_index.call(null,this$);var map__10017 = lt.objs.langs.keymap.idx__GT_entry_info.call(null,idx,new cljs.core.Keyword(null,"entries","entries",3717298178).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));var map__10017__$1 = ((cljs.core.seq_QMARK_.call(null,map__10017))?cljs.core.apply.call(null,cljs.core.hash_map,map__10017):map__10017);var first_command = cljs.core.get.call(null,map__10017__$1,new cljs.core.Keyword(null,"first-command","first-command",563271840));var arg_pos = cljs.core.get.call(null,map__10017__$1,new cljs.core.Keyword(null,"arg-pos","arg-pos",4562713039));var command_at_pos = cljs.core.get.call(null,map__10017__$1,new cljs.core.Keyword(null,"command-at-pos","command-at-pos",2108663278));var command = cljs.core.get.call(null,new cljs.core.Keyword(null,"commands","commands",4706336250).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,lt.objs.command.manager)),(function (){var or__3408__auto__ = command_at_pos;if(cljs.core.truth_(or__3408__auto__))
{return or__3408__auto__;
} else
{return first_command;
}
})());if(cljs.core.truth_(command))
{return lt.object.raise.call(null,lt.objs.langs.keymap.helper,new cljs.core.Keyword(null,"show!","show!",1123317814),this$,command,arg_pos);
} else
{return lt.object.raise.call(null,lt.objs.langs.keymap.helper,new cljs.core.Keyword(null,"clear!","clear!",3951036134),this$);
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","show-info-on-move","lt.objs.langs.keymap/show-info-on-move",836516040),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__show_info_on_move,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move","move",1017261891),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),200);
lt.objs.langs.keymap.__BEH__keymap_hint_pattern = (function __BEH__keymap_hint_pattern(this$){return lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"hint-pattern","hint-pattern",2825267644),/[\w\-\>\:\*\$\?\<\!\+\.\"\\/]/], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","keymap-hint-pattern","lt.objs.langs.keymap/keymap-hint-pattern",2903988014),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__keymap_hint_pattern,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"object.instant","object.instant",773332388),null], null), null));
lt.objs.langs.keymap.__BEH__on_changed = (function __BEH__on_changed(this$){return lt.objs.langs.behaviors.flat_parser.call(null,this$,lt.objs.editor.__GT_val.call(null,this$));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","on-changed","lt.objs.langs.keymap/on-changed",3532361178),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__on_changed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"change","change",3947235106),null,new cljs.core.Keyword(null,"create","create",3956577390),null], null), null),new cljs.core.Keyword(null,"debounce","debounce",1556599227),50);
lt.objs.langs.keymap.__BEH__parsed = (function __BEH__parsed(this$,results){lt.object.merge_BANG_.call(null,this$,lt.util.cljs.js__GT_clj.call(null,results,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",4191781672),true));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move","move",1017261891));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","parsed","lt.objs.langs.keymap/parsed",4292388517),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__parsed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"parsed","parsed",4313460611),null], null), null));
lt.objs.langs.keymap.inline = (function inline(this$,ed,opts){return lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"ed","ed",1013907473),ed,new cljs.core.Keyword(null,"class","class",1108647146),"behavior-helper",new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),lt.object.__GT_content.call(null,this$),new cljs.core.Keyword(null,"above","above",1106515727),cljs.core.boolean$.call(null,(new cljs.core.Keyword(null,"prev-line","prev-line",4421028544).cljs$core$IFn$_invoke$arity$1(opts) < new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(opts))),new cljs.core.Keyword(null,"loc","loc",1014011570),opts,new cljs.core.Keyword(null,"line","line",1017226086),lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(opts))], null));
});
lt.objs.langs.keymap.__GT_helper = (function __GT_helper(keym){var e__4335__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",1013907516),new cljs.core.Keyword(null,"desc","desc",1016984067).cljs$core$IFn$_invoke$arity$2(keym,new cljs.core.Keyword(null,"command","command",1964298941).cljs$core$IFn$_invoke$arity$1(keym))], null),(cljs.core.truth_(new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(keym))?(function (){var iter__4119__auto__ = (function iter__10028(s__10029){return (new cljs.core.LazySeq(null,(function (){var s__10029__$1 = s__10029;while(true){
var temp__4092__auto__ = cljs.core.seq.call(null,s__10029__$1);if(temp__4092__auto__)
{var s__10029__$2 = temp__4092__auto__;if(cljs.core.chunked_seq_QMARK_.call(null,s__10029__$2))
{var c__4117__auto__ = cljs.core.chunk_first.call(null,s__10029__$2);var size__4118__auto__ = cljs.core.count.call(null,c__4117__auto__);var b__10031 = cljs.core.chunk_buffer.call(null,size__4118__auto__);if((function (){var i__10030 = 0;while(true){
if((i__10030 < size__4118__auto__))
{var p = cljs.core._nth.call(null,c__4117__auto__,i__10030);cljs.core.chunk_append.call(null,b__10031,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.Keyword(null,"label","label",1116631654).cljs$core$IFn$_invoke$arity$1(p),(cljs.core.truth_(new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre.example","pre.example",4358698129),new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p)], null):null)], null));
{
var G__10038 = (i__10030 + 1);
i__10030 = G__10038;
continue;
}
} else
{return true;
}
break;
}
})())
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10031),iter__10028.call(null,cljs.core.chunk_rest.call(null,s__10029__$2)));
} else
{return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__10031),null);
}
} else
{var p = cljs.core.first.call(null,s__10029__$2);return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.Keyword(null,"label","label",1116631654).cljs$core$IFn$_invoke$arity$1(p),(cljs.core.truth_(new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre.example","pre.example",4358698129),new cljs.core.Keyword(null,"example","example",3985900764).cljs$core$IFn$_invoke$arity$1(p)], null):null)], null),iter__10028.call(null,cljs.core.rest.call(null,s__10029__$2)));
}
} else
{return null;
}
break;
}
}),null,null));
});return iter__4119__auto__.call(null,new cljs.core.Keyword(null,"params","params",4313443576).cljs$core$IFn$_invoke$arity$1(keym));
})():null)], null));var seq__10032_10039 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,cljs.core.PersistentVector.EMPTY));var chunk__10033_10040 = null;var count__10034_10041 = 0;var i__10035_10042 = 0;while(true){
if((i__10035_10042 < count__10034_10041))
{var vec__10036_10043 = cljs.core._nth.call(null,chunk__10033_10040,i__10035_10042);var ev__4336__auto___10044 = cljs.core.nth.call(null,vec__10036_10043,0,null);var func__4337__auto___10045 = cljs.core.nth.call(null,vec__10036_10043,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___10044,func__4337__auto___10045);
{
var G__10046 = seq__10032_10039;
var G__10047 = chunk__10033_10040;
var G__10048 = count__10034_10041;
var G__10049 = (i__10035_10042 + 1);
seq__10032_10039 = G__10046;
chunk__10033_10040 = G__10047;
count__10034_10041 = G__10048;
i__10035_10042 = G__10049;
continue;
}
} else
{var temp__4092__auto___10050 = cljs.core.seq.call(null,seq__10032_10039);if(temp__4092__auto___10050)
{var seq__10032_10051__$1 = temp__4092__auto___10050;if(cljs.core.chunked_seq_QMARK_.call(null,seq__10032_10051__$1))
{var c__4150__auto___10052 = cljs.core.chunk_first.call(null,seq__10032_10051__$1);{
var G__10053 = cljs.core.chunk_rest.call(null,seq__10032_10051__$1);
var G__10054 = c__4150__auto___10052;
var G__10055 = cljs.core.count.call(null,c__4150__auto___10052);
var G__10056 = 0;
seq__10032_10039 = G__10053;
chunk__10033_10040 = G__10054;
count__10034_10041 = G__10055;
i__10035_10042 = G__10056;
continue;
}
} else
{var vec__10037_10057 = cljs.core.first.call(null,seq__10032_10051__$1);var ev__4336__auto___10058 = cljs.core.nth.call(null,vec__10037_10057,0,null);var func__4337__auto___10059 = cljs.core.nth.call(null,vec__10037_10057,1,null);lt.util.dom.on.call(null,e__4335__auto__,ev__4336__auto___10058,func__4337__auto___10059);
{
var G__10060 = cljs.core.next.call(null,seq__10032_10051__$1);
var G__10061 = null;
var G__10062 = 0;
var G__10063 = 0;
seq__10032_10039 = G__10060;
chunk__10033_10040 = G__10061;
count__10034_10041 = G__10062;
i__10035_10042 = G__10063;
continue;
}
}
} else
{}
}
break;
}
return e__4335__auto__;
});
lt.objs.langs.keymap.set_param = (function set_param(this$,idx){var lis = lt.util.dom.$$.call(null,"span",lt.object.__GT_content.call(null,this$));var seq__10068_10072 = cljs.core.seq.call(null,lis);var chunk__10069_10073 = null;var count__10070_10074 = 0;var i__10071_10075 = 0;while(true){
if((i__10071_10075 < count__10070_10074))
{var li_10076 = cljs.core._nth.call(null,chunk__10069_10073,i__10071_10075);lt.util.dom.remove_class.call(null,li_10076,new cljs.core.Keyword(null,"active","active",3885920888));
{
var G__10077 = seq__10068_10072;
var G__10078 = chunk__10069_10073;
var G__10079 = count__10070_10074;
var G__10080 = (i__10071_10075 + 1);
seq__10068_10072 = G__10077;
chunk__10069_10073 = G__10078;
count__10070_10074 = G__10079;
i__10071_10075 = G__10080;
continue;
}
} else
{var temp__4092__auto___10081 = cljs.core.seq.call(null,seq__10068_10072);if(temp__4092__auto___10081)
{var seq__10068_10082__$1 = temp__4092__auto___10081;if(cljs.core.chunked_seq_QMARK_.call(null,seq__10068_10082__$1))
{var c__4150__auto___10083 = cljs.core.chunk_first.call(null,seq__10068_10082__$1);{
var G__10084 = cljs.core.chunk_rest.call(null,seq__10068_10082__$1);
var G__10085 = c__4150__auto___10083;
var G__10086 = cljs.core.count.call(null,c__4150__auto___10083);
var G__10087 = 0;
seq__10068_10072 = G__10084;
chunk__10069_10073 = G__10085;
count__10070_10074 = G__10086;
i__10071_10075 = G__10087;
continue;
}
} else
{var li_10088 = cljs.core.first.call(null,seq__10068_10082__$1);lt.util.dom.remove_class.call(null,li_10088,new cljs.core.Keyword(null,"active","active",3885920888));
{
var G__10089 = cljs.core.next.call(null,seq__10068_10082__$1);
var G__10090 = null;
var G__10091 = 0;
var G__10092 = 0;
seq__10068_10072 = G__10089;
chunk__10069_10073 = G__10090;
count__10070_10074 = G__10091;
i__10071_10075 = G__10092;
continue;
}
}
} else
{}
}
break;
}
if(cljs.core.truth_(idx))
{return lt.util.dom.add_class.call(null,(lis[idx]),new cljs.core.Keyword(null,"active","active",3885920888));
} else
{return null;
}
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper","lt.objs.langs.keymap/helper",4251548354),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.keymap.helper","editor.keymap.helper",2159399120),null], null), null));
lt.objs.langs.keymap.__BEH__helper__DOT__show_BANG_ = (function __BEH__helper__DOT__show_BANG_(this$,ed,keym,param_idx){var loc = lt.objs.editor.__GT_cursor.call(null,ed);if((cljs.core.not_EQ_.call(null,keym,new cljs.core.Keyword(null,"key","key",1014010321).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))) || (cljs.core.not_EQ_.call(null,ed,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))))
{lt.objs.editor._line_class.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"text","text",1017460895),"behavior-helper-line");
lt.object.raise.call(null,new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
lt.objs.editor._PLUS_line_class.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"text","text",1017460895),"behavior-helper-line");
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"content","content",1965434859),lt.objs.langs.keymap.__GT_helper.call(null,keym)], null));
lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.langs.keymap.inline.call(null,this$,ed,cljs.core.assoc.call(null,loc,new cljs.core.Keyword(null,"prev-line","prev-line",4421028544),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))),new cljs.core.Keyword(null,"key","key",1014010321),keym,new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"ed","ed",1013907473),ed], null));
} else
{}
return lt.objs.langs.keymap.set_param.call(null,this$,param_idx);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper.show!","lt.objs.langs.keymap/helper.show!",3924890652),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.langs.keymap.__BEH__helper__DOT__show_BANG_,new cljs.core.Keyword(null,"desc","desc",1016984067),"Keymap.helper: show",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"show!","show!",1123317814),null], null), null));
lt.objs.langs.keymap.helper = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.langs.keymap","helper","lt.objs.langs.keymap/helper",4251548354));
